/*

 FullCalendar v1.5.4
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Tue Feb 12 09:30:34 2013 +0000

*/
(function(k,na){function wb(a){k.extend(true,Ya,a)}function Xb(a,b,f){function d(o){if(C){u();l();oa();R(o)}else e()}function e(){A=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");C=k("<div class='fc-content' style='position:relative'/>").prependTo(a);E=new Yb(X,b);(Q=E.render())&&a.prepend(Q);x(b.defaultView);k(window).resize(ka);j()||g()}function g(){setTimeout(function(){!n.start&&j()&&R()},0)}function m(){k(window).unbind("resize",ka);E.destroy();
C.remove();a.removeClass("fc fc-rtl ui-widget")}function p(){return i.offsetWidth!==0}function j(){return k("body")[0].offsetWidth!==0}function x(o){if(!n||o!=n.name){G++;pa();var D=n,Z;if(D){(D.beforeHide||xb)();Za(C,C.height());D.element.hide()}else Za(C,1);C.css("overflow","hidden");if(n=Y[o])n.element.show();else n=Y[o]=new Ja[o](Z=s=k("<div class='fc-view fc-view-"+o+"' style='position:absolute'/>").appendTo(C),X);D&&E.deactivateButton(D.name);E.activateButton(o);R();C.css("overflow","");D&&
Za(C,1);Z||(n.afterShow||xb)();G--}}function R(o){if(p()){G++;pa();q===na&&u();var D=false;if(!n.start||o||t<n.start||t>=n.end){n.render(t,o||0);ba(true);D=true}else if(n.sizeDirty){n.clearEvents();ba();D=true}else if(n.eventsDirty){n.clearEvents();D=true}n.sizeDirty=false;n.eventsDirty=false;ea(D);W=a.outerWidth();E.updateTitle(n.title);G--;n.trigger("viewDisplay",i);typeof n.renderSessions=="function"&&n.renderSessions();n.setWidth(C.width())}}function F(){l();if(p()){u();ba();pa();n.clearEvents();
n.renderEvents(K);n.sizeDirty=false}}function l(){k.each(Y,function(o,D){D.sizeDirty=true})}function u(){q=b.contentHeight?b.contentHeight:b.height?b.height-(Q?Q.height():0)-Sa(C):Math.round(C.width()/Math.max(b.aspectRatio,0.5))}function ba(o){G++;n.setHeight(q,o);if(s){s.css("position","relative");s=null}n.setWidth(C.width(),o);G--}function ka(){if(!G)if(n.start){var o=++v;setTimeout(function(){if(o==v&&!G&&p())if(W!=(W=a.outerWidth())){G++;F();n.trigger("windowResize",i);G--}},200)}else g()}function ea(o){if(!b.lazyFetching||
za(n.visStart,n.visEnd))ra();else o&&fa()}function ra(){L(n.visStart,n.visEnd)}function sa(o){K=o;fa()}function ha(o){fa(o)}function fa(o){oa();if(p()){n.clearEvents();n.renderEvents(K,o);n.eventsDirty=false}}function oa(){k.each(Y,function(o,D){D.eventsDirty=true})}function ua(o,D,Z){n.select(o,D,Z===na?true:Z)}function pa(){n&&n.unselect()}function U(){R(-1)}function da(){R(1)}function la(){gb(t,-1);R()}function qa(){gb(t,1);R()}function H(){t=new Date;R()}function r(o,D,Z){if(o instanceof Date)t=
M(o);else yb(t,o,D,Z);R()}function N(o,D,Z){o!==na&&gb(t,o);D!==na&&hb(t,D);Z!==na&&ca(t,Z);R()}function c(){return M(t)}function z(){return n}function I(o,D){if(D===na)return b[o];if(o=="height"||o=="contentHeight"||o=="aspectRatio"){b[o]=D;F()}}function T(o,D){if(b[o])return b[o].apply(D||i,Array.prototype.slice.call(arguments,2))}var X=this;X.options=b;X.render=d;X.destroy=m;X.refetchEvents=ra;X.reportEvents=sa;X.reportEventChange=ha;X.rerenderEvents=fa;X.changeView=x;X.select=ua;X.unselect=pa;
X.prev=U;X.next=da;X.prevYear=la;X.nextYear=qa;X.today=H;X.gotoDate=r;X.incrementDate=N;X.formatDate=function(o,D){return Ka(o,D,b)};X.formatDates=function(o,D,Z){return ib(o,D,Z,b)};X.getDate=c;X.getView=z;X.option=I;X.trigger=T;Zb.call(X,b,f);var za=X.isFetchNeeded,L=X.fetchEvents,i=a[0],E,Q,C,A,n,Y={},W,q,s,v=0,G=0,t=new Date,K=[],O;yb(t,b.year,b.month,b.date);b.droppable&&k(document).bind("dragstart",function(o,D){var Z=o.target,ja=k(Z);if(!ja.parents(".fc").length){var ia=b.dropAccept;if(k.isFunction(ia)?
ia.call(Z,ja):ja.is(ia)){O=Z;n.dragStart(O,o,D)}}}).bind("dragstop",function(o,D){if(O){n.dragStop(O,o,D);O=null}})}function Yb(a,b){function f(){l=b.theme?"ui":"fc";if(b.header)return F=k("<table class='fc-header' style='width:100%'/>").append(k("<tr/>").append(e("left")).append(e("center")).append(e("right")))}function d(){F.remove()}function e(u){var ba=k("<td class='fc-header-"+u+"'/>");(u=b.header[u])&&k.each(u.split(" "),function(ka){ka>0&&ba.append("<span class='fc-header-space'/>");var ea;
k.each(this.split(","),function(ra,sa){if(sa=="title"){ba.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ea&&ea.addClass(l+"-corner-right");ea=null}else{var ha;if(a[sa])ha=a[sa];else if(Ja[sa])ha=function(){oa.removeClass(l+"-state-hover");a.changeView(sa)};if(ha){ra=b.theme?jb(b.buttonIcons,sa):null;var fa=jb(b.buttonText,sa),oa=k("<span class='fc-button fc-button-"+sa+" "+l+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(ra?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+
ra+"'/></span>":fa)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(oa){oa.click(function(){oa.hasClass(l+"-state-disabled")||ha()}).mousedown(function(){oa.not("."+l+"-state-active").not("."+l+"-state-disabled").addClass(l+"-state-down")}).mouseup(function(){oa.removeClass(l+"-state-down")}).hover(function(){oa.not("."+l+"-state-active").not("."+l+"-state-disabled").addClass(l+"-state-hover")},function(){oa.removeClass(l+"-state-hover").removeClass(l+"-state-down")}).appendTo(ba);
ea||oa.addClass(l+"-corner-left");ea=oa}}}});ea&&ea.addClass(l+"-corner-right")});return ba}function g(u){F.find("h2").html(u)}function m(u){F.find("span.fc-button-"+u).addClass(l+"-state-active")}function p(u){F.find("span.fc-button-"+u).removeClass(l+"-state-active")}function j(u){F.find("span.fc-button-"+u).addClass(l+"-state-disabled")}function x(u){F.find("span.fc-button-"+u).removeClass(l+"-state-disabled")}var R=this;R.render=f;R.destroy=d;R.updateTitle=g;R.activateButton=m;R.deactivateButton=
p;R.disableButton=j;R.enableButton=x;var F=k([]),l}function Zb(a,b){function f(c,z){return!da||c<da||z>la}function d(c,z){da=c;la=z;N=[];c=++qa;H=z=U.length;for(var I=0;I<z;I++)e(U[I],c)}function e(c,z){g(c,function(I){if(z==qa){if(I){for(var T=0;T<I.length;T++){I[T].source=c;ka(I[T])}N=N.concat(I)}H--;H||ua(N)}})}function g(c,z){var I,T=Ba.sourceFetchers,X;for(I=0;I<T.length;I++){X=T[I](c,da,la,z);if(X===true)return;else if(typeof X=="object"){g(X,z);return}}if(I=c.events)if(k.isFunction(I)){u();
I(M(da),M(la),function(E){z(E);ba()})}else k.isArray(I)?z(I):z();else if(c.url){var za=c.success,L=c.error,i=c.complete;I=k.extend({},c.data||{});T=Ta(c.startParam,a.startParam);X=Ta(c.endParam,a.endParam);if(T)I[T]=Math.round(+da/1E3);if(X)I[X]=Math.round(+la/1E3);u();k.ajax(k.extend({},$b,c,{data:I,success:function(E){E=E||[];var Q=$a(za,this,arguments);if(k.isArray(Q))E=Q;z(E)},error:function(){$a(L,this,arguments);z()},complete:function(){$a(i,this,arguments);ba()}}))}else z()}function m(c){if(c=
p(c)){H++;e(c,qa)}}function p(c){if(k.isFunction(c)||k.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){ea(c);U.push(c);return c}}function j(c){U=k.grep(U,function(z){return!ra(z,c)});N=k.grep(N,function(z){return!ra(z.source,c)});ua(N)}function x(c){var z,I=N.length,T,X=oa().defaultEventEnd,za=c.start-c._start,L=c.end?c.end-(c._end||X(c)):0;for(z=0;z<I;z++){T=N[z];if(T._id==c._id&&T!=c){T.start=new Date(+T.start+za);T.end=c.end?T.end?new Date(+T.end+L):new Date(+X(T)+
L):null;T.title=c.title;T.url=c.url;T.allDay=c.allDay;T.className=c.className;T.editable=c.editable;T.color=c.color;T.backgroudColor=c.backgroudColor;T.borderColor=c.borderColor;T.textColor=c.textColor;ka(T)}}ka(c);ua(N)}function R(c,z){ka(c);if(!c.source){if(z){pa.events.push(c);c.source=pa}N.push(c)}ua(N)}function F(c){if(c){if(!k.isFunction(c)){var z=c+"";c=function(T){return T._id==z}}N=k.grep(N,c,true);for(I=0;I<U.length;I++)if(k.isArray(U[I].events))U[I].events=k.grep(U[I].events,c,true)}else{N=
[];for(var I=0;I<U.length;I++)if(k.isArray(U[I].events))U[I].events=[]}ua(N)}function l(c){if(k.isFunction(c))return k.grep(N,c);else if(c){c+="";return k.grep(N,function(z){return z._id==c})}return N}function u(){r++||fa("loading",null,true)}function ba(){--r||fa("loading",null,false)}function ka(c){var z=c.source||{},I=Ta(z.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===na?"_fc"+ac++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=M(c.start=ab(c.start,I));c.end=ab(c.end,
I);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?M(c.end):null;if(c.allDay===na)c.allDay=Ta(z.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function ea(c){if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[];for(var z=Ba.sourceNormalizers,I=0;I<z.length;I++)z[I](c)}function ra(c,z){return c&&z&&sa(c)==sa(z)}function sa(c){return(typeof c=="object"?c.events||
c.url:"")||c}var ha=this;ha.isFetchNeeded=f;ha.fetchEvents=d;ha.addEventSource=m;ha.removeEventSource=j;ha.updateEvent=x;ha.renderEvent=R;ha.removeEvents=F;ha.clientEvents=l;ha.normalizeEvent=ka;var fa=ha.trigger,oa=ha.getView,ua=ha.reportEvents,pa={events:[]},U=[pa],da,la,qa=0,H=0,r=0,N=[];for(ha=0;ha<b.length;ha++)p(b[ha])}function gb(a,b,f){a.setFullYear(a.getFullYear()+b);f||La(a);return a}function hb(a,b,f){if(+a){b=a.getMonth()+b;var d=M(a);d.setDate(1);d.setMonth(b);a.setMonth(b);for(f||La(a);a.getMonth()!=
d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function ca(a,b,f){if(+a){b=a.getDate()+b;var d=M(a);d.setHours(9);d.setDate(b);a.setDate(b);f||La(a);kb(a,d)}return a}function kb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*bc)}function ya(a,b){a.setMinutes(a.getMinutes()+b);return a}function La(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function M(a,b){if(b)return La(new Date(+a));return new Date(+a)}function cc(){var a=0,b;do b=new Date(1970,
a++,1);while(b.getHours());return b}function Fa(a,b,f){for(b=b||1;!a.getDay()||f&&a.getDay()==1||!f&&a.getDay()==6;)ca(a,b);return a}function Ca(a,b){return Math.round((M(a,true)-M(b,true))/zb)}function yb(a,b,f,d){if(b!==na&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(f!==na&&f!=a.getMonth()){a.setDate(1);a.setMonth(f)}d!==na&&a.setDate(d)}function ab(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*
1E3);if(b===na)b=true;return Ab(a,b)||(a?new Date(a):null)}return null}function Ab(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var f=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){f.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){f.setDate(a[5]);b.setDate(a[5])}kb(f,b);a[7]&&f.setHours(a[7]);a[8]&&f.setMinutes(a[8]);a[10]&&f.setSeconds(a[10]);a[12]&&f.setMilliseconds(Number("0."+
a[12])*1E3);kb(f,b)}else{f.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);f.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;f=new Date(+f+b*60*1E3)}}return f}function lb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],
10):0)}}function Ka(a,b,f){return ib(a,null,b,f)}function ib(a,b,f,d){d=d||Ya;var e=a,g=b,m,p=f.length,j,x,R,F="";for(m=0;m<p;m++){j=f.charAt(m);if(j=="'")for(x=m+1;x<p;x++){if(f.charAt(x)=="'"){if(e){F+=x==m+1?"'":f.substring(m+1,x);m=x}break}}else if(j=="(")for(x=m+1;x<p;x++){if(f.charAt(x)==")"){m=Ka(e,f.substring(m+1,x),d);if(parseInt(m.replace(/\D/,""),10))F+=m;m=x;break}}else if(j=="[")for(x=m+1;x<p;x++){if(f.charAt(x)=="]"){j=f.substring(m+1,x);m=Ka(e,j,d);if(m!=Ka(g,j,d))F+=m;m=x;break}}else if(j==
"{"){e=b;g=a}else if(j=="}"){e=a;g=b}else{for(x=p;x>m;x--)if(R=dc[f.substring(m,x)]){if(e)F+=R(e,d);m=x-1;break}if(x==m)if(e)F+=j}}return F}function Ua(a){return a.end?ec(a.end,a.allDay):ca(M(a.start),1)}function ec(a,b){a=M(a);return b||a.getHours()||a.getMinutes()?ca(a,1):La(a)}function fc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Bb(a,b){return a.end>b.start&&a.start<b.end}function mb(a,b,f,d){var e=[],g,m=a.length,p,j,x,R,F;for(g=0;g<m;g++){p=a[g];j=p.start;
x=b[g];if(x>f&&j<d){if(j<f){j=M(f);R=false}else{j=j;R=true}if(x>d){x=M(d);F=false}else{x=x;F=true}e.push({event:p,start:j,end:x,isStart:R,isEnd:F,msLength:x-j})}}return e.sort(fc)}function nb(a){var b=[],f,d=a.length,e,g,m,p;for(f=0;f<d;f++){e=a[f];for(g=0;;){m=false;if(b[g])for(p=0;p<b[g].length;p++)if(Bb(b[g][p],e)){m=true;break}if(m)g++;else break}if(b[g])b[g].push(e);else b[g]=[e]}return b}function Cb(a,b,f){a.unbind("mouseover").mouseover(function(d){for(var e=d.target,g;e!=this;){g=e;e=e.parentNode}if((e=
g._fci)!==na){g._fci=na;g=b[e];f(g.event,g.element,g);k(d.target).trigger(d)}d.stopPropagation()})}function Va(a,b,f){for(var d=0,e;d<a.length;d++){e=k(a[d]);e.width(Math.max(0,b-ob(e,f)))}}function Db(a,b,f){for(var d=0,e;d<a.length;d++){e=k(a[d]);e.height(Math.max(0,b-Sa(e,f)))}}function ob(a,b){return gc(a)+hc(a)+(b?ic(a):0)}function gc(a){return(parseFloat(k.css(a[0],"paddingLeft",true))||0)+(parseFloat(k.css(a[0],"paddingRight",true))||0)}function ic(a){return(parseFloat(k.css(a[0],"marginLeft",
true))||0)+(parseFloat(k.css(a[0],"marginRight",true))||0)}function hc(a){return(parseFloat(k.css(a[0],"borderLeftWidth",true))||0)+(parseFloat(k.css(a[0],"borderRightWidth",true))||0)}function Sa(a,b){return jc(a)+kc(a)+(b?Eb(a):0)}function jc(a){return(parseFloat(k.css(a[0],"paddingTop",true))||0)+(parseFloat(k.css(a[0],"paddingBottom",true))||0)}function Eb(a){return(parseFloat(k.css(a[0],"marginTop",true))||0)+(parseFloat(k.css(a[0],"marginBottom",true))||0)}function kc(a){return(parseFloat(k.css(a[0],
"borderTopWidth",true))||0)+(parseFloat(k.css(a[0],"borderBottomWidth",true))||0)}function Za(a,b){b=typeof b=="number"?b+"px":b;a.each(function(f,d){d.style.cssText+=";min-height:"+b+";_height:"+b})}function xb(){}function Fb(a,b){return a-b}function Gb(a){return Math.max.apply(Math,a)}function Pa(a){return(a<10?"0":"")+a}function jb(a,b){if(a[b]!==na)return a[b];b=b.split(/(?=[A-Z])/);for(var f=b.length-1,d;f>=0;f--){d=a[b[f].toLowerCase()];if(d!==na)return d}return a[""]}function Qa(a){return a.replace(/&/g,
"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Hb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function pb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function bb(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}
function qb(a,b){a.each(function(f,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+lc[b.getDay()])})}function Ib(a,b){var f=a.source||{},d=a.color,e=f.color,g=b("eventColor"),m=a.backgroundColor||d||f.backgroundColor||e||b("eventBackgroundColor")||g;d=a.borderColor||d||f.borderColor||e||b("eventBorderColor")||g;a=a.textColor||f.textColor||b("eventTextColor");b=[];m&&b.push("background-color:"+m);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function $a(a,b,f){if(k.isFunction(a))a=
[a];if(a){var d,e;for(d=0;d<a.length;d++)e=a[d].apply(b,f)||e;return e}}function Ta(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==na)return arguments[a]}function mc(a,b){function f(p,j){if(j){hb(p,j);p.setDate(1)}p=M(p,true);p.setDate(1);j=hb(M(p),1);var x=M(p),R=M(j),F=e("firstDay"),l=e("weekends")?0:1;if(l){Fa(x);Fa(R,-1,true)}ca(x,-((x.getDay()-Math.max(F,l)+7)%7));ca(R,(7-R.getDay()+Math.max(F,l))%7);F=Math.round((R-x)/(zb*7));if(e("weekMode")=="fixed"){ca(R,(6-F)*7);F=6}d.title=m(p,
e("titleFormat"));d.start=p;d.end=j;d.visStart=x;d.visEnd=R;g(6,F,l?5:7,true)}var d=this;d.render=f;rb.call(d,a,b,"month");var e=d.opt,g=d.renderBasic,m=b.formatDate}function nc(a,b){function f(p,j){j&&ca(p,j*7);p=ca(M(p),-((p.getDay()-e("firstDay")+7)%7));j=ca(M(p),7);var x=M(p),R=M(j),F=e("weekends");if(!F){Fa(x);Fa(R,-1,true)}d.title=m(x,ca(M(R),-1),e("titleFormat"));d.start=p;d.end=j;d.visStart=x;d.visEnd=R;g(1,1,F?7:5,false)}var d=this;d.render=f;rb.call(d,a,b,"basicWeek");var e=d.opt,g=d.renderBasic,
m=b.formatDates}function oc(a,b){function f(p,j){if(j){ca(p,j);e("weekends")||Fa(p,j<0?-1:1)}d.title=m(p,e("titleFormat"));d.start=d.visStart=M(p,true);d.end=d.visEnd=ca(M(d.start),1);g(1,1,1,false)}var d=this;d.render=f;rb.call(d,a,b,"basicDay");var e=d.opt,g=d.renderBasic,m=b.formatDate}function rb(a,b,f){function d(w,J,S,V){v=J;G=S;e();(J=!E)?g(w,V):z();m(J)}function e(){if(o=N("isRTL")){D=-1;Z=G-1}else{D=1;Z=0}ja=N("firstDay");ia=N("weekends")?0:1;ma=N("theme")?"ui":"fc";$=N("columnFormat")}function g(w,
J){var S,V=ma+"-widget-header",ga=ma+"-widget-content",aa;S="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(aa=0;aa<G;aa++)S+="<th class='fc- "+V+"'/>";S+="</tr></thead><tbody>";for(aa=0;aa<w;aa++){S+="<tr class='fc-week"+aa+"'>";for(V=0;V<G;V++)S+="<td class='fc- "+ga+" fc-day"+(aa*G+V)+"'><div>"+(J?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";S+="</tr>"}S+="</tbody></table>";w=
k(S).appendTo(a);L=w.find("thead");i=L.find("th");E=w.find("tbody");Q=E.find("tr");C=E.find("td");A=C.filter(":first-child");n=Q.eq(0).find("div.fc-day-content div");bb(L.add(L.find("tr")));bb(Q);Q.eq(0).addClass("fc-first");x(C);Y=k("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function m(w){var J=w||v==1,S=r.start.getMonth(),V=La(new Date),ga,aa,va;J&&i.each(function(wa,Ga){ga=k(Ga);aa=da(wa);ga.html(za(aa,$));qb(ga,aa)});C.each(function(wa,Ga){ga=k(Ga);aa=da(wa);aa.getMonth()==
S?ga.removeClass("fc-other-month"):ga.addClass("fc-other-month");+aa==+V?ga.addClass(ma+"-state-highlight fc-today"):ga.removeClass(ma+"-state-highlight fc-today");ga.find("div.fc-day-number").text(aa.getDate());J&&qb(ga,aa)});Q.each(function(wa,Ga){va=k(Ga);if(wa<v){va.show();wa==v-1?va.addClass("fc-last"):va.removeClass("fc-last")}else va.hide()})}function p(w){q=w;w=q-L.height();var J,S,V;if(N("weekMode")=="variable")J=S=Math.floor(w/(v==1?2:6));else{J=Math.floor(w/v);S=w-J*(v-1)}A.each(function(ga,
aa){if(ga<v){V=k(aa);Za(V.find("> div"),(ga==v-1?S:J)-Sa(V))}})}function j(w){W=w;O.clear();s=Math.floor(W/G);Va(i.slice(0,-1),s)}function x(w){w.click(R).mousedown(X)}function R(w){if(!N("selectable")){var J=parseInt(this.className.match(/fc\-day(\d+)/)[1]);J=da(J);c("dayClick",this,J,true,w)}}function F(w,J,S){S&&t.build();S=M(r.visStart);for(var V=ca(M(S),G),ga=0;ga<v;ga++){var aa=new Date(Math.max(S,w)),va=new Date(Math.min(V,J));if(aa<va){var wa;if(o){wa=Ca(va,S)*D+Z+1;aa=Ca(aa,S)*D+Z+1}else{wa=
Ca(aa,S);aa=Ca(va,S)}x(l(ga,wa,ga,aa-1))}ca(S,7);ca(V,7)}}function l(w,J,S,V){w=t.rect(w,J,S,V,a);return I(w,a)}function u(w){return M(w)}function ba(w,J){F(w,ca(M(J),1),true)}function ka(){T()}function ea(w,J,S){var V=ua(w);c("dayClick",C[V.row*G+V.col],w,J,S)}function ra(w,J){K.start(function(S){T();S&&l(S.row,S.col,S.row,S.col)},J)}function sa(w,J,S){var V=K.stop();T();if(V){V=pa(V);c("drop",w,V,true,J,S)}}function ha(w){return M(w.start)}function fa(w){return O.left(w)}function oa(w){return O.right(w)}
function ua(w){return{row:Math.floor(Ca(w,r.visStart)/7),col:la(w.getDay())}}function pa(w){return U(w.row,w.col)}function U(w,J){return ca(M(r.visStart),w*7+J*D+Z)}function da(w){return U(Math.floor(w/G),w%G)}function la(w){return(w-Math.max(ja,ia)+G)%G*D+Z}function qa(w){return Q.eq(w)}function H(){return{left:0,right:W}}var r=this;r.renderBasic=d;r.setHeight=p;r.setWidth=j;r.renderDayOverlay=F;r.defaultSelectionEnd=u;r.renderSelection=ba;r.clearSelection=ka;r.reportDayClick=ea;r.dragStart=ra;r.dragStop=
sa;r.defaultEventEnd=ha;r.getHoverListener=function(){return K};r.colContentLeft=fa;r.colContentRight=oa;r.dayOfWeekCol=la;r.dateCell=ua;r.cellDate=pa;r.cellIsAllDay=function(){return true};r.allDayRow=qa;r.allDayBounds=H;r.getRowCnt=function(){return v};r.getColCnt=function(){return G};r.getColWidth=function(){return s};r.getDaySegmentContainer=function(){return Y};Jb.call(r,a,b,f);Kb.call(r);Lb.call(r);pc.call(r);var N=r.opt,c=r.trigger,z=r.clearEvents,I=r.renderOverlay,T=r.clearOverlays,X=r.daySelectionMousedown,
za=b.formatDate,L,i,E,Q,C,A,n,Y,W,q,s,v,G,t,K,O,o,D,Z,ja,ia,ma,$;pb(a.addClass("fc-grid"));t=new Mb(function(w,J){var S,V,ga;i.each(function(aa,va){S=k(va);V=S.offset().left;if(aa)ga[1]=V;ga=[V];J[aa]=ga});ga[1]=V+S.outerWidth();Q.each(function(aa,va){if(aa<v){S=k(va);V=S.offset().top;if(aa)ga[1]=V;ga=[V];w[aa]=ga}});ga[1]=V+S.outerHeight()});K=new Nb(t);O=new Ob(function(w){return n.eq(w)})}function pc(){function a(U,da){R(U);ua(f(U),da)}function b(){F();ea().empty()}function f(U){var da=fa(),la=
oa(),qa=M(g.visStart);la=ca(M(qa),la);var H=k.map(U,Ua),r,N,c,z,I,T,X=[];for(r=0;r<da;r++){N=nb(mb(U,H,qa,la));for(c=0;c<N.length;c++){z=N[c];for(I=0;I<z.length;I++){T=z[I];T.row=r;T.level=c;X.push(T)}}ca(qa,7);ca(la,7)}return X}function d(U,da,la){j(U)&&e(U,da);la.isEnd&&x(U)&&pa(U,da,la);l(U,da)}function e(U,da){var la=ra(),qa;da.draggable({zIndex:9,delay:50,opacity:m("dragOpacity"),revertDuration:m("dragRevertDuration"),start:function(H,r){p("eventDragStart",da,U,H,r);ba(U,da);la.start(function(N,
c,z,I){da.draggable("option","revert",!N||!z&&!I);ha();if(N){qa=z*7+I*(m("isRTL")?-1:1);sa(ca(M(U.start),qa),ca(Ua(U),qa))}else qa=0},H,"drag")},stop:function(H,r){la.stop();ha();p("eventDragStop",da,U,H,r);if(qa)ka(this,U,qa,0,U.allDay,H,r);else{da.css("filter","");u(U,da)}}})}var g=this;g.renderEvents=a;g.compileDaySegs=f;g.clearEvents=b;g.bindDaySeg=d;Pb.call(g);var m=g.opt,p=g.trigger,j=g.isEventDraggable,x=g.isEventResizable,R=g.reportEvents,F=g.reportEventClear,l=g.eventElementHandlers,u=g.showEvents,
ba=g.hideEvents,ka=g.eventDrop,ea=g.getDaySegmentContainer,ra=g.getHoverListener,sa=g.renderDayOverlay,ha=g.clearOverlays,fa=g.getRowCnt,oa=g.getColCnt,ua=g.renderDaySegs,pa=g.resizableDayEvent}function qc(a,b){function f(j,x){x&&ca(j,x*7);j=ca(M(j),-((j.getDay()-g("firstDay")+7)%7));x=ca(M(j),7);var R=M(j),F=M(x),l=g("weekends");if(!l){Fa(R);Fa(F,-1,true)}e.title=p(R,ca(M(F),-1),g("titleFormat"));e.start=j;e.end=x;e.visStart=R;e.visEnd=F;m(l?7:5)}function d(){k("tbody").find(".active").css("background",
"transparent").removeClass("active");var j=b.options,x=j.slotMinutes,R=(e.end-e.start)/(6E4*x),F=[];if(j.sessions){if(k.isFunction(j.sessions))F=j.sessions();else if(k.isArray(j.sessions))F=j.sessions;j=F.filter(function(ea){return ea.start<e.end&&ea.end>e.start});if(!(!j||j.length<1))for(F=0;F<j.length;F++){for(var l=j[F],u="",ba=M(e.start),ka=0;ka<R;ka++){if(ba>=l.start&&ba<l.end)u+=".ts-"+ba.getDay()+Ka(ba,"-HH-mm")+", ";ya(ba,x)}k("tbody").find(u).addClass("active").css("background",l.colour?
l.colour:"white")}}}var e=this;e.render=f;e.renderSessions=d;Qb.call(e,a,b,"agendaWeek");var g=e.opt,m=e.renderAgenda,p=b.formatDates}function rc(a,b){function f(p,j){if(j){ca(p,j);e("weekends")||Fa(p,j<0?-1:1)}j=M(p,true);var x=ca(M(j),1);d.title=m(p,e("titleFormat"));d.start=d.visStart=j;d.end=d.visEnd=x;g(1)}var d=this;d.render=f;Qb.call(d,a,b,"agendaDay");var e=d.opt,g=d.renderAgenda,m=b.formatDate}function Qb(a,b,f){function d(h){Aa=h;e();v?Q():g();m()}function e(){sb=i("theme")?"ui":"fc";Rb=
i("weekends")?0:1;Sb=i("firstDay");if(Tb=i("isRTL")){Ha=-1;Ia=Aa-1}else{Ha=1;Ia=0}Ma=lb(i("minTime"));cb=lb(i("maxTime"));Ub=i("columnFormat")}function g(){var h=sb+"-widget-header",P=sb+"-widget-content",y,B,ta,xa,Ea,Da=i("slotMinutes")%15==0;y="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+h+"'>&nbsp;</th>";for(B=0;B<Aa;B++)y+="<th class='fc- fc-col"+B+" "+h+"'/>";y+="<th class='fc-agenda-gutter "+h+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+
h+"'>&nbsp;</th>";for(B=0;B<Aa;B++)y+="<td class='fc- fc-col"+B+" "+P+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";y+="<td class='fc-agenda-gutter "+P+"'>&nbsp;</td></tr></tbody></table>";v=k(y).appendTo(a);G=v.find("thead");t=G.find("th").slice(1,-1);K=v.find("tbody");O=K.find("td").slice(0,-1);o=O.find("div.fc-day-content div");D=O.eq(0);Z=D.find("> div");bb(G.add(G.find("tr")));bb(K.add(K.find("tr")));aa=G.find("th:first");va=v.find(".fc-agenda-gutter");
ja=k("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(i("allDaySlot")){ia=k("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(ja);y="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+h+" fc-agenda-axis'>"+i("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+h+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ma=k(y).appendTo(ja);$=ma.find("tr");l($.find("td"));aa=
aa.add(ma.find("th:first"));va=va.add(ma.find("th.fc-agenda-gutter"));ja.append("<div class='fc-agenda-divider "+h+"'><div class='fc-agenda-divider-inner'/></div>")}else ia=k([]);w=k("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(ja);J=k("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(w);S=k("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(J);y="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";
ta=ab(s(new Date,"ddd MMM dd yyyy"));Ea=ya(M(ta),cb);ya(ta,Ma);for(B=tb=0;ta<Ea;B++){xa=ta.getMinutes();y+="<tr class='fc-slot"+B+" "+(!xa?"":"fc-minor")+"'><th class='fc-agenda-axis "+h+"'>"+(!Da||!xa?s(ta,i("axisFormat")):"&nbsp;")+"</th><td class='"+P+"'>";for(xa=0;xa<Aa;xa++)y+="<div class='fc-session-slot fc-col"+xa+" ts-"+xa+"-"+s(ta,"HH-mm")+"'><div>"+s(ta,"HH:mm")+"</div></div>";y+="</td></tr>";ya(ta,i("slotMinutes"));tb++}y+="</tbody></table>";V=k(y).appendTo(J);ga=V.find("div:first");u(V.find("td"));
aa=aa.add(V.find("th:first"))}function m(){var h,P,y,B;La(new Date);for(h=0;h<Aa;h++){B=ua(h);P=t.eq(h);P.html(s(B,Ub));y=O.eq(h);qb(P.add(y),B)}}function p(h,P){if(h===na)h=Vb;Vb=h;ub={};var y=K.position().top,B=w.position().top;h=Math.min(h-y,V.height()+B+1);Z.height(h-Sa(D));ja.css("top",y);w.height(h-B-1);Wa=ga.height()+1;P&&x()}function j(h){Ga=h;db.clear();Na=0;Va(aa.width("").each(function(P,y){Na=Math.max(Na,k(y).outerWidth())}),Na);h=w[0].clientWidth;if(vb=w.width()-h){Va(va,vb);va.show().prev().removeClass("fc-last")}else va.hide().prev().addClass("fc-last");
Xa=Math.floor((h-Na)/Aa);Va(t.slice(0,-1),Xa);k(".fc-session-slot").width(Xa)}function x(){function h(){w.scrollTop(B)}var P=cc(),y=M(P);y.setHours(i("firstHour"));var B=da(P,y)+1;h();setTimeout(h,0)}function R(){Wb=w.scrollTop()}function F(){w.scrollTop(Wb)}function l(h){h.click(ba).mousedown(W)}function u(h){h.click(ba).mousedown(I)}function ba(h){if(!i("selectable")){var P=Math.min(Aa-1,Math.floor((h.pageX-v.offset().left-Na)/Xa)),y=ua(P),B=this.parentNode.className.match(/fc-slot(\d+)/);if(B){B=
parseInt(B[1])*i("slotMinutes");var ta=Math.floor(B/60);y.setHours(ta);y.setMinutes(B%60+Ma);E("dayClick",O[P],y,false,h)}else E("dayClick",O[P],y,true,h)}}function ka(h,P,y){y&&Oa.build();var B=M(L.visStart);if(Tb){y=Ca(P,B)*Ha+Ia+1;h=Ca(h,B)*Ha+Ia+1}else{y=Ca(h,B);h=Ca(P,B)}y=Math.max(0,y);h=Math.min(Aa,h);y<h&&l(ea(0,y,0,h-1))}function ea(h,P,y,B){h=Oa.rect(h,P,y,B,ja);return C(h,ja)}function ra(h,P){for(var y=M(L.visStart),B=ca(M(y),1),ta=0;ta<Aa;ta++){var xa=new Date(Math.max(y,h)),Ea=new Date(Math.min(B,
P));if(xa<Ea){var Da=ta*Ha+Ia;Da=Oa.rect(0,Da,0,Da,J);xa=da(y,xa);Ea=da(y,Ea);Da.top=xa;Da.height=Ea-xa;u(C(Da,J))}ca(y,1);ca(B,1)}}function sa(h){return db.left(h)}function ha(h){return db.right(h)}function fa(h){return{row:Math.floor(Ca(h,L.visStart)/7),col:U(h.getDay())}}function oa(h){var P=ua(h.col);h=h.row;i("allDaySlot")&&h--;h>=0&&ya(P,Ma+h*i("slotMinutes"));return P}function ua(h){return ca(M(L.visStart),h*Ha+Ia)}function pa(h){return i("allDaySlot")&&!h.row}function U(h){return(h-Math.max(Sb,
Rb)+Aa)%Aa*Ha+Ia}function da(h,P){h=M(h,true);if(P<ya(M(h),Ma))return 0;if(P>=ya(M(h),cb))return V.height();h=i("slotMinutes");P=P.getHours()*60+P.getMinutes()-Ma;var y=Math.floor(P/h),B=ub[y];if(B===na)B=ub[y]=V.find("tr:eq("+y+") td div")[0].offsetTop;return Math.max(0,Math.round(B-1+Wa*(P%h/h)))}function la(){return{left:Na,right:Ga-vb}}function qa(){return $}function H(h){var P=M(h.start);if(h.allDay)return P;return ya(P,i("defaultEventMinutes"))}function r(h,P){if(P)return M(h);return ya(M(h),
i("slotMinutes"))}function N(h,P,y){if(y)i("allDaySlot")&&ka(h,ca(M(P),1),true);else c(h,P)}function c(h,P){var y=i("selectHelper");Oa.build();if(y){var B=Ca(h,L.visStart)*Ha+Ia;if(B>=0&&B<Aa){B=Oa.rect(0,B,0,B,J);var ta=da(h,h),xa=da(h,P);if(xa>ta){B.top=ta;B.height=xa-ta;B.left+=2;B.width-=5;if(k.isFunction(y)){if(h=y(h,P)){B.position="absolute";B.zIndex=8;wa=k(h).css(B).appendTo(J)}}else{B.isStart=true;B.isEnd=true;wa=k(q({title:"",start:h,end:P,className:["fc-select-helper"],editable:false},B));
wa.css("opacity",i("dragOpacity"))}if(wa){u(wa);J.append(wa);Va(wa,B.width,true);Db(wa,B.height,true)}}}}else ra(h,P)}function z(){A();if(wa){wa.remove();wa=null}}function I(h){if(h.which==1&&i("selectable")){Y(h);var P;Ra.start(function(y,B){z();if(y&&y.col==B.col&&!pa(y)){B=oa(B);y=oa(y);P=[B,ya(M(B),i("slotMinutes")),y,ya(M(y),i("slotMinutes"))].sort(Fb);c(P[0],P[3])}else P=null},h);k(document).one("mouseup",function(y){Ra.stop();if(P){+P[0]==+P[1]&&T(P[0],false,y);n(P[0],P[3],false,y)}})}}function T(h,
P,y){E("dayClick",O[U(h.getDay())],h,P,y)}function X(h,P){Ra.start(function(y){A();if(y)if(pa(y))ea(y.row,y.col,y.row,y.col);else{y=oa(y);var B=ya(M(y),i("defaultEventMinutes"));ra(y,B)}},P)}function za(h,P,y){var B=Ra.stop();A();B&&E("drop",h,oa(B),pa(B),P,y)}var L=this;L.renderAgenda=d;L.setWidth=j;L.setHeight=p;L.beforeHide=R;L.afterShow=F;L.defaultEventEnd=H;L.timePosition=da;L.dayOfWeekCol=U;L.dateCell=fa;L.cellDate=oa;L.cellIsAllDay=pa;L.allDayRow=qa;L.allDayBounds=la;L.getHoverListener=function(){return Ra};
L.colContentLeft=sa;L.colContentRight=ha;L.getDaySegmentContainer=function(){return ia};L.getSlotSegmentContainer=function(){return S};L.getMinMinute=function(){return Ma};L.getMaxMinute=function(){return cb};L.getBodyContent=function(){return J};L.getRowCnt=function(){return 1};L.getColCnt=function(){return Aa};L.getColWidth=function(){return Xa};L.getSlotHeight=function(){return Wa};L.defaultSelectionEnd=r;L.renderDayOverlay=ka;L.renderSelection=N;L.clearSelection=z;L.reportDayClick=T;L.dragStart=
X;L.dragStop=za;Jb.call(L,a,b,f);Kb.call(L);Lb.call(L);sc.call(L);var i=L.opt,E=L.trigger,Q=L.clearEvents,C=L.renderOverlay,A=L.clearOverlays,n=L.reportSelection,Y=L.unselect,W=L.daySelectionMousedown,q=L.slotSegHtml,s=b.formatDate,v,G,t,K,O,o,D,Z,ja,ia,ma,$,w,J,S,V,ga,aa,va,wa,Ga,Vb,Na,Xa,vb,Wa,Wb,Aa,tb,Oa,Ra,db,ub={},sb,Sb,Rb,Tb,Ha,Ia,Ma,cb,Ub;pb(a.addClass("fc-agenda"));Oa=new Mb(function(h,P){function y(eb){return Math.max(Da,Math.min(tc,eb))}var B,ta,xa;t.each(function(eb,uc){B=k(uc);ta=B.offset().left;
if(eb)xa[1]=ta;xa=[ta];P[eb]=xa});xa[1]=ta+B.outerWidth();if(i("allDaySlot")){B=$;ta=B.offset().top;h[0]=[ta,ta+B.outerHeight()]}for(var Ea=J.offset().top,Da=w.offset().top,tc=Da+w.outerHeight(),fb=0;fb<tb;fb++)h.push([y(Ea+Wa*fb),y(Ea+Wa*(fb+1))])});Ra=new Nb(Oa);db=new Ob(function(h){return o.eq(h)})}function sc(){function a(q,s){sa(q);var v,G=q.length,t=[],K=[];for(v=0;v<G;v++)q[v].allDay?t.push(q[v]):K.push(q[v]);if(u("allDaySlot")){N(f(t),s);oa()}g(d(K),s)}function b(){ha();ua().empty();pa().empty()}
function f(q){q=nb(mb(q,k.map(q,Ua),l.visStart,l.visEnd));var s,v=q.length,G,t,K,O=[];for(s=0;s<v;s++){G=q[s];for(t=0;t<G.length;t++){K=G[t];K.row=0;K.level=s;O.push(K)}}return O}function d(q){var s=z(),v=la(),G=da(),t=ya(M(l.visStart),v),K=k.map(q,e),O,o,D,Z,ja,ia,ma=[];for(O=0;O<s;O++){o=nb(mb(q,K,t,ya(M(t),G-v)));vc(o);for(D=0;D<o.length;D++){Z=o[D];for(ja=0;ja<Z.length;ja++){ia=Z[ja];ia.col=O;ia.level=D;ma.push(ia)}}ca(t,1,true)}return ma}function e(q){return q.end?M(q.end):ya(M(q.start),u("defaultEventMinutes"))}
function g(q,s){var v,G=q.length,t,K,O,o,D,Z,ja,ia,ma,$="",w,J,S={},V={},ga=pa(),aa;v=z();if(w=u("isRTL")){J=-1;aa=v-1}else{J=1;aa=0}for(v=0;v<G;v++){t=q[v];K=t.event;O=qa(t.start,t.start);o=qa(t.start,t.end);D=t.col;Z=t.level;ja=t.forward||0;ia=H(D*J+aa);ma=r(D*J+aa)-ia;ma=Math.min(ma-6,ma*0.95);D=Z?ma/(Z+ja+1):ja?(ma/(ja+1)-6)*2:ma;Z=ia+ma/(Z+ja+1)*Z*J+(w?ma-D:0);t.top=O;t.left=Z;t.outerWidth=D;t.outerHeight=o-O;$+=m(K,t)}ga[0].innerHTML=$;w=ga.children();for(v=0;v<G;v++){t=q[v];K=t.event;$=k(w[v]);
J=ba("eventRender",K,K,$);if(J===false)$.remove();else{if(J&&J!==true){$.remove();$=k(J).css({position:"absolute",top:t.top,left:t.left}).appendTo(ga)}t.element=$;if(K._id===s)j(K,$,t);else $[0]._fci=v;za(K,$)}}Cb(ga,q,j);for(v=0;v<G;v++){t=q[v];if($=t.element){K=S[s=t.key=Hb($[0])];t.vsides=K===na?(S[s]=Sa($,true)):K;K=V[s];t.hsides=K===na?(V[s]=ob($,true)):K;s=$.find("div.fc-event-content");if(s.length)t.contentTop=s[0].offsetTop}}for(v=0;v<G;v++){t=q[v];if($=t.element){$[0].style.width=Math.max(0,
t.outerWidth-t.hsides)+"px";S=Math.max(0,t.outerHeight-t.vsides);$[0].style.height=S+"px";K=t.event;if(t.contentTop!==na&&S-t.contentTop<10){$.find("div.fc-event-time").text(Y(K.start,u("timeFormat"))+" - "+K.title);$.find("div.fc-event-title").remove()}ba("eventAfterRender",K,K,$)}}}function m(q,s){var v="<",G=q.url,t=Ib(q,u),K=t?" style='"+t+"'":"",O=["fc-event","fc-event-skin","fc-event-vert"];ka(q)&&O.push("fc-event-draggable");s.isStart&&O.push("fc-corner-top");s.isEnd&&O.push("fc-corner-bottom");
O=O.concat(q.className);if(q.source)O=O.concat(q.source.className||[]);v+=G?"a href='"+Qa(q.url)+"'":"div";v+=" class='"+O.join(" ")+"' style='position:absolute;z-index:8;top:"+s.top+"px;left:"+s.left+"px;"+t+"'><div class='fc-event-inner fc-event-skin'"+K+"><div class='fc-event-head fc-event-skin'"+K+"><div class='fc-event-time'>"+Qa(W(q.start,q.end,u("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Qa(q.title)+"</div></div><div class='fc-event-bg'></div></div>";
if(s.isEnd&&ea(q))v+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";v+="</"+(G?"a":"div")+">";return v}function p(q,s,v){ka(q)&&x(q,s,v.isStart);v.isEnd&&ea(q)&&c(q,s,v);fa(q,s)}function j(q,s,v){var G=s.find("div.fc-event-time");ka(q)&&R(q,s,G);v.isEnd&&ea(q)&&F(q,s,G);fa(q,s)}function x(q,s,v){function G(){if(!O){s.width(t).height("").draggable("option","grid",null);O=true}}var t,K,O=true,o,D=u("isRTL")?-1:1,Z=U(),ja=I(),ia=T(),ma=la();s.draggable({zIndex:9,opacity:u("dragOpacity","month"),
revertDuration:u("dragRevertDuration"),start:function($,w){ba("eventDragStart",s,q,$,w);i(q,s);t=s.width();Z.start(function(J,S,V,ga){A();if(J){K=false;o=ga*D;if(J.row)if(v){if(O){s.width(ja-10);Db(s,ia*Math.round((q.end?(q.end-q.start)/wc:u("defaultEventMinutes"))/u("slotMinutes")));s.draggable("option","grid",[ja,1]);O=false}}else K=true;else{C(ca(M(q.start),o),ca(Ua(q),o));G()}K=K||O&&!o}else{G();K=true}s.draggable("option","revert",K)},$,"drag")},stop:function($,w){Z.stop();A();ba("eventDragStop",
s,q,$,w);if(K){G();s.css("filter","");L(q,s)}else{var J=0;O||(J=Math.round((s.offset().top-X().offset().top)/ia)*u("slotMinutes")+ma-(q.start.getHours()*60+q.start.getMinutes()));E(this,q,o,J,O,$,w)}}})}function R(q,s,v){function G(J){var S=ya(M(q.start),J),V;if(q.end)V=ya(M(q.end),J);v.text(W(S,V,u("timeFormat")))}function t(){if(O){v.css("display","");s.draggable("option","grid",[$,w]);O=false}}var K,O=false,o,D,Z,ja=u("isRTL")?-1:1,ia=U(),ma=z(),$=I(),w=T();s.draggable({zIndex:9,scroll:false,grid:[$,
w],axis:ma==1?"y":false,opacity:u("dragOpacity"),revertDuration:u("dragRevertDuration"),start:function(J,S){ba("eventDragStart",s,q,J,S);i(q,s);K=s.position();D=Z=0;ia.start(function(V,ga,aa,va){s.draggable("option","revert",!V);A();if(V){o=va*ja;if(u("allDaySlot")&&!V.row){if(!O){O=true;v.hide();s.draggable("option","grid",null)}C(ca(M(q.start),o),ca(Ua(q),o))}else t()}},J,"drag")},drag:function(J,S){D=Math.round((S.position.top-K.top)/w)*u("slotMinutes");if(D!=Z){O||G(D);Z=D}},stop:function(J,S){var V=
ia.stop();A();ba("eventDragStop",s,q,J,S);if(V&&(o||D||O))E(this,q,o,O?0:D,O,J,S);else{t();s.css("filter","");s.css(K);G(0);L(q,s)}}})}function F(q,s,v){var G,t,K=T();s.resizable({handles:{s:"div.ui-resizable-s"},grid:K,start:function(O,o){G=t=0;i(q,s);s.css("z-index",9);ba("eventResizeStart",this,q,O,o)},resize:function(O,o){G=Math.round((Math.max(K,s.height())-o.originalSize.height)/K);if(G!=t){v.text(W(q.start,!G&&!q.end?null:ya(ra(q),u("slotMinutes")*G),u("timeFormat")));t=G}},stop:function(O,
o){ba("eventResizeStop",this,q,O,o);if(G)Q(this,q,0,u("slotMinutes")*G,O,o);else{s.css("z-index",8);L(q,s)}}})}var l=this;l.renderEvents=a;l.compileDaySegs=f;l.clearEvents=b;l.slotSegHtml=m;l.bindDaySeg=p;Pb.call(l);var u=l.opt,ba=l.trigger,ka=l.isEventDraggable,ea=l.isEventResizable,ra=l.eventEnd,sa=l.reportEvents,ha=l.reportEventClear,fa=l.eventElementHandlers,oa=l.setHeight,ua=l.getDaySegmentContainer,pa=l.getSlotSegmentContainer,U=l.getHoverListener,da=l.getMaxMinute,la=l.getMinMinute,qa=l.timePosition,
H=l.colContentLeft,r=l.colContentRight,N=l.renderDaySegs,c=l.resizableDayEvent,z=l.getColCnt,I=l.getColWidth,T=l.getSlotHeight,X=l.getBodyContent,za=l.reportEventElement,L=l.showEvents,i=l.hideEvents,E=l.eventDrop,Q=l.eventResize,C=l.renderDayOverlay,A=l.clearOverlays,n=l.calendar,Y=n.formatDate,W=n.formatDates}function vc(a){var b,f,d,e,g,m;for(b=a.length-1;b>0;b--){e=a[b];for(f=0;f<e.length;f++){g=e[f];for(d=0;d<a[b-1].length;d++){m=a[b-1][d];if(Bb(g,m))m.forward=Math.max(m.forward||0,(g.forward||
0)+1)}}}}function Jb(a,b,f){function d(H,r){H=qa[H];if(typeof H=="object")return jb(H,r||f);return H}function e(H,r){return b.trigger.apply(b,[H,r||fa].concat(Array.prototype.slice.call(arguments,2),[fa]))}function g(H){return p(H)&&!d("disableDragging")}function m(H){return p(H)&&!d("disableResizing")}function p(H){return Ta(H.editable,(H.source||{}).editable,d("editable"))}function j(H){U={};var r,N=H.length,c;for(r=0;r<N;r++){c=H[r];if(U[c._id])U[c._id].push(c);else U[c._id]=[c]}}function x(H){return H.end?
M(H.end):oa(H)}function R(H,r){da.push(r);if(la[H._id])la[H._id].push(r);else la[H._id]=[r]}function F(){da=[];la={}}function l(H,r){r.click(function(N){if(!r.hasClass("ui-draggable-dragging")&&!r.hasClass("ui-resizable-resizing"))return e("eventClick",this,H,N)}).hover(function(N){e("eventMouseover",this,H,N)},function(N){e("eventMouseout",this,H,N)})}function u(H,r){ka(H,r,"show")}function ba(H,r){ka(H,r,"hide")}function ka(H,r,N){H=la[H._id];var c,z=H.length;for(c=0;c<z;c++)if(!r||H[c][0]!=r[0])H[c][N]()}
function ea(H,r,N,c,z,I,T){var X=r.allDay,za=r._id;sa(U[za],N,c,z);e("eventDrop",H,r,N,c,z,function(){sa(U[za],-N,-c,X);pa(za)},I,T);pa(za)}function ra(H,r,N,c,z,I){var T=r._id;ha(U[T],N,c);e("eventResize",H,r,N,c,function(){ha(U[T],-N,-c);pa(T)},z,I);pa(T)}function sa(H,r,N,c){N=N||0;for(var z,I=H.length,T=0;T<I;T++){z=H[T];if(c!==na)z.allDay=c;ya(ca(z.start,r,true),N);if(z.end)z.end=ya(ca(z.end,r,true),N);ua(z,qa)}}function ha(H,r,N){N=N||0;for(var c,z=H.length,I=0;I<z;I++){c=H[I];c.end=ya(ca(x(c),
r,true),N);ua(c,qa)}}var fa=this;fa.element=a;fa.calendar=b;fa.name=f;fa.opt=d;fa.trigger=e;fa.isEventDraggable=g;fa.isEventResizable=m;fa.reportEvents=j;fa.eventEnd=x;fa.reportEventElement=R;fa.reportEventClear=F;fa.eventElementHandlers=l;fa.showEvents=u;fa.hideEvents=ba;fa.eventDrop=ea;fa.eventResize=ra;var oa=fa.defaultEventEnd,ua=b.normalizeEvent,pa=b.reportEventChange,U={},da=[],la={},qa=b.options}function Pb(){function a(i,E){var Q=z(),C=pa(),A=U(),n=0,Y,W,q=i.length,s,v;Q[0].innerHTML=f(i);
d(i,Q.children());e(i);g(i,Q,E);m(i);p(i);j(i);E=x();for(Q=0;Q<C;Q++){Y=[];for(W=0;W<A;W++)Y[W]=0;for(;n<q&&(s=i[n]).row==Q;){W=Gb(Y.slice(s.startCol,s.endCol));s.top=W;W+=s.outerHeight;for(v=s.startCol;v<s.endCol;v++)Y[v]=W;n++}E[Q].height(Gb(Y))}F(i,R(E))}function b(i,E,Q){var C=k("<div/>"),A=z(),n=i.length,Y;C[0].innerHTML=f(i);C=C.children();A.append(C);d(i,C);m(i);p(i);j(i);F(i,R(x()));C=[];for(A=0;A<n;A++)if(Y=i[A].element){i[A].row===E&&Y.css("top",Q);C.push(Y[0])}return k(C)}function f(i){var E=
ba("isRTL"),Q,C=i.length,A,n,Y,W;Q=la();var q=Q.left,s=Q.right,v,G,t,K,O,o="";for(Q=0;Q<C;Q++){A=i[Q];n=A.event;W=["fc-event","fc-event-skin","fc-event-hori"];ea(n)&&W.push("fc-event-draggable");if(E){A.isStart&&W.push("fc-corner-right");A.isEnd&&W.push("fc-corner-left");v=r(A.end.getDay()-1);G=r(A.start.getDay());t=A.isEnd?qa(v):q;K=A.isStart?H(G):s}else{A.isStart&&W.push("fc-corner-left");A.isEnd&&W.push("fc-corner-right");v=r(A.start.getDay());G=r(A.end.getDay()-1);t=A.isStart?qa(v):q;K=A.isEnd?
H(G):s}W=W.concat(n.className);if(n.source)W=W.concat(n.source.className||[]);Y=n.url;O=Ib(n,ba);o+=Y?"<a href='"+Qa(Y)+"'":"<div";o+=" class='"+W.join(" ")+"' style='position:absolute;z-index:8;left:"+t+"px;"+O+"'><div class='fc-event-inner fc-event-skin'"+(O?" style='"+O+"'":"")+">";if(!n.allDay&&A.isStart)o+="<span class='fc-event-time'>"+Qa(T(n.start,n.end,ba("timeFormat")))+"</span>";o+="<span class='fc-event-title'>"+Qa(n.title)+"</span></div>";if(A.isEnd&&ra(n))o+="<div class='ui-resizable-handle ui-resizable-"+
(E?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";o+="</"+(Y?"a":"div")+">";A.left=t;A.outerWidth=K-t;A.startCol=v;A.endCol=G+1}return o}function d(i,E){var Q,C=i.length,A,n,Y;for(Q=0;Q<C;Q++){A=i[Q];n=A.event;Y=k(E[Q]);n=ka("eventRender",n,n,Y);if(n===false)Y.remove();else{if(n&&n!==true){n=k(n).css({position:"absolute",left:A.left});Y.replaceWith(n);Y=n}A.element=Y}}}function e(i){var E,Q=i.length,C,A;for(E=0;E<Q;E++){C=i[E];(A=C.element)&&ha(C.event,A)}}function g(i,E,Q){var C,A=i.length,n,Y,W;for(C=0;C<
A;C++){n=i[C];if(Y=n.element){W=n.event;if(W._id===Q)I(W,Y,n);else Y[0]._fci=C}}Cb(E,i,I)}function m(i){var E,Q=i.length,C,A,n,Y,W={};for(E=0;E<Q;E++){C=i[E];if(A=C.element){n=C.key=Hb(A[0]);Y=W[n];if(Y===na)Y=W[n]=ob(A,true);C.hsides=Y}}}function p(i){var E,Q=i.length,C,A;for(E=0;E<Q;E++){C=i[E];if(A=C.element)A[0].style.width=Math.max(0,C.outerWidth-C.hsides)+"px"}}function j(i){var E,Q=i.length,C,A,n,Y,W={};for(E=0;E<Q;E++){C=i[E];if(A=C.element){n=C.key;Y=W[n];if(Y===na)Y=W[n]=Eb(A);C.outerHeight=
A[0].offsetHeight+Y}}}function x(){var i,E=pa(),Q=[];for(i=0;i<E;i++)Q[i]=da(i).find("td:first div.fc-day-content > div");return Q}function R(i){var E,Q=i.length,C=[];for(E=0;E<Q;E++)C[E]=i[E][0].offsetTop;return C}function F(i,E){var Q,C=i.length,A,n;for(Q=0;Q<C;Q++){A=i[Q];if(n=A.element){n[0].style.top=E[A.row]+(A.top||0)+"px";A=A.event;ka("eventAfterRender",A,A,n)}}}function l(i,E,Q){var C=ba("isRTL"),A=C?"w":"e",n=E.find("div.ui-resizable-"+A),Y=false;pb(E);E.mousedown(function(W){W.preventDefault()}).click(function(W){if(Y){W.preventDefault();
W.stopImmediatePropagation()}});n.mousedown(function(W){function q(ia){ka("eventResizeStop",this,i,ia);k("body").css("cursor","");s.stop();za();o&&ua(this,i,o,0,ia);setTimeout(function(){Y=false},0)}if(W.which==1){Y=true;var s=u.getHoverListener(),v=pa(),G=U(),t=C?-1:1,K=C?G-1:0,O=E.css("top"),o,D,Z=k.extend({},i),ja=N(i.start);L();k("body").css("cursor",A+"-resize").one("mouseup",q);ka("eventResizeStart",this,i,W);s.start(function(ia,ma){if(ia){var $=Math.max(ja.row,ia.row);ia=ia.col;if(v==1)$=0;
if($==ja.row)ia=C?Math.min(ja.col,ia):Math.max(ja.col,ia);o=$*7+ia*t+K-(ma.row*7+ma.col*t+K);ma=ca(sa(i),o,true);if(o){Z.end=ma;$=D;D=b(c([Z]),Q.row,O);D.find("*").css("cursor",A+"-resize");$&&$.remove();oa(i)}else if(D){fa(i);D.remove();D=null}za();X(i.start,ca(M(ma),1))}},W)}})}var u=this;u.renderDaySegs=a;u.resizableDayEvent=l;var ba=u.opt,ka=u.trigger,ea=u.isEventDraggable,ra=u.isEventResizable,sa=u.eventEnd,ha=u.reportEventElement,fa=u.showEvents,oa=u.hideEvents,ua=u.eventResize,pa=u.getRowCnt,
U=u.getColCnt,da=u.allDayRow,la=u.allDayBounds,qa=u.colContentLeft,H=u.colContentRight,r=u.dayOfWeekCol,N=u.dateCell,c=u.compileDaySegs,z=u.getDaySegmentContainer,I=u.bindDaySeg,T=u.calendar.formatDates,X=u.renderDayOverlay,za=u.clearOverlays,L=u.clearSelection}function Lb(){function a(F,l,u){b();l||(l=p(F,u));j(F,l,u);f(F,l,u)}function b(F){if(R){R=false;x();m("unselect",null,F)}}function f(F,l,u,ba){R=true;m("select",null,F,l,u,ba)}function d(F){var l=e.cellDate,u=e.cellIsAllDay,ba=e.getHoverListener(),
ka=e.reportDayClick;if(F.which==1&&g("selectable")){b(F);var ea;ba.start(function(ra,sa){x();if(ra&&u(ra)){ea=[l(sa),l(ra)].sort(Fb);j(ea[0],ea[1],true)}else ea=null},F);k(document).one("mouseup",function(ra){ba.stop();if(ea){+ea[0]==+ea[1]&&ka(ea[0],true,ra);f(ea[0],ea[1],true,ra)}})}}var e=this;e.select=a;e.unselect=b;e.reportSelection=f;e.daySelectionMousedown=d;var g=e.opt,m=e.trigger,p=e.defaultSelectionEnd,j=e.renderSelection,x=e.clearSelection,R=false;g("selectable")&&g("unselectAuto")&&k(document).mousedown(function(F){var l=
g("unselectCancel");if(l)if(k(F.target).parents(l).length)return;b(F)})}function Kb(){function a(g,m){var p=e.shift();p||(p=k("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));p[0].parentNode!=m[0]&&p.appendTo(m);d.push(p.css(g).show());return p}function b(){for(var g;g=d.shift();)e.push(g.hide().unbind())}var f=this;f.renderOverlay=a;f.clearOverlays=b;var d=[],e=[]}function Mb(a){var b=this,f,d;b.build=function(){f=[];d=[];a(f,d)};b.cell=function(e,g){var m=f.length,p=d.length,
j,x=-1,R=-1;for(j=0;j<m;j++)if(g>=f[j][0]&&g<f[j][1]){x=j;break}for(j=0;j<p;j++)if(e>=d[j][0]&&e<d[j][1]){R=j;break}return x>=0&&R>=0?{row:x,col:R}:null};b.rect=function(e,g,m,p,j){j=j.offset();return{top:f[e][0]-j.top,left:d[g][0]-j.left,width:d[p][1]-d[g][0],height:f[m][1]-f[e][0]}}}function Nb(a){function b(p){xc(p);p=a.cell(p.pageX,p.pageY);if(!p!=!m||p&&(p.row!=m.row||p.col!=m.col)){if(p){g||(g=p);e(p,g,p.row-g.row,p.col-g.col)}else e(p,g);m=p}}var f=this,d,e,g,m;f.start=function(p,j,x){e=p;
g=m=null;a.build();b(j);d=x||"mousemove";k(document).bind(d,b)};f.stop=function(){k(document).unbind(d,b);return m}}function xc(a){if(a.pageX===na){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Ob(a){function b(m){return d[m]=d[m]||a(m)}var f=this,d={},e={},g={};f.left=function(m){return e[m]=e[m]===na?b(m).position().left:e[m]};f.right=function(m){return g[m]=g[m]===na?f.left(m)+b(m).width():g[m]};f.clear=function(){d={};e={};g={}}}var Ya={defaultView:"month",aspectRatio:1.35,
header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan",
"Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},yc=
{header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Ba=k.fullCalendar={version:"1.5.4"},Ja=Ba.views={};k.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),f;this.each(function(){var e=k.data(this,"fullCalendar");if(e&&k.isFunction(e[a])){e=e[a].apply(e,
b);if(f===na)f=e;a=="destroy"&&k.removeData(this,"fullCalendar")}});if(f!==na)return f;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=k.extend(true,{},Ya,a.isRTL||a.isRTL===na&&Ya.isRTL?yc:{},a);this.each(function(e,g){e=k(g);g=new Xb(e,a,d);e.data("fullCalendar",g);g.render()});return this};Ba.sourceNormalizers=[];Ba.sourceFetchers=[];var $b={dataType:"json",cache:false},ac=1;Ba.addDays=ca;Ba.cloneDate=M;Ba.parseDate=ab;Ba.parseISO8601=
Ab;Ba.parseTime=lb;Ba.formatDate=Ka;Ba.formatDates=ib;var lc=["sun","mon","tue","wed","thu","fri","sat"],zb=864E5,bc=36E5,wc=6E4,dc={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Pa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},
ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<
12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Ka(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Ba.applyAll=$a;Ja.month=mc;Ja.basicWeek=nc;Ja.basicDay=oc;wb({weekMode:"fixed"});Ja.agendaWeek=qc;Ja.agendaDay=rc;wb({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,
maxTime:24})})(jQuery);
