/*

 FullCalendar v1.5.4
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Tue Feb 12 15:19:43 2013 +0000

*/
(function(m,ma){function wb(a){m.extend(true,Ya,a)}function Xb(a,b,e,d){function f(p){if(k){ca();t();la();E(p)}else g()}function g(){y=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");k=m("<div class='fc-content' style='position:relative'/>").prependTo(a);V=new Yb(u,b);(q=V.render())&&a.prepend(q);R(b.defaultView);m(window).resize(ea);v()||n()}function n(){setTimeout(function(){!l.start&&v()&&E()},0)}function s(){m(window).unbind("resize",ea);V.destroy();
k.remove();a.removeClass("fc fc-rtl ui-widget")}function w(){return W.offsetWidth!==0}function v(){return m("body")[0].offsetWidth!==0}function R(p){if(!l||p!=l.name){da++;F();var h=l,x;if(h){(h.beforeHide||xb)();Za(k,k.height());h.element.hide()}else Za(k,1);k.css("overflow","hidden");if(l=z[p])l.element.show();else l=z[p]=new Ja[p](x=X=m("<div class='fc-view fc-view-"+p+"' style='position:absolute'/>").appendTo(k),u);h&&V.deactivateButton(h.name);V.activateButton(p);E();k.css("overflow","");h&&
Za(k,1);x||(l.afterShow||xb)();da--}}function E(p){if(w()){da++;F();N===ma&&ca();var h=false;if(!l.start||p||Y<l.start||Y>=l.end){l.render(Y,p||0);ha(true);h=true}else if(l.sizeDirty){l.clearEvents();ha();h=true}else if(l.eventsDirty){l.clearEvents();h=true}l.sizeDirty=false;l.eventsDirty=false;na(h);qa();H=a.outerWidth();V.updateTitle(l.title);da--;l.trigger("viewDisplay",W);l.setWidth(k.width())}}function o(){t();if(w()){ca();ha();F();l.clearEvents();l.renderEvents(ka);l.sizeDirty=false}}function t(){m.each(z,
function(p,h){h.sizeDirty=true})}function ca(){N=b.contentHeight?b.contentHeight:b.height?b.height-(q?q.height():0)-Sa(k):Math.round(k.width()/Math.max(b.aspectRatio,0.5))}function ha(p){da++;l.setHeight(N,p);if(X){X.css("position","relative");X=null}l.setWidth(k.width(),p);da--}function ea(){if(!da)if(l.start){var p=++aa;setTimeout(function(){if(p==aa&&!da&&w())if(H!=(H=a.outerWidth())){da++;o();l.trigger("windowResize",W);da--}},200)}else n()}function na(p){if(!b.lazyFetching||P(l.visStart,l.visEnd))ia();
else p&&S()}function qa(){ja()}function ia(){C(l.visStart,l.visEnd)}function ja(){U()}function oa(p){ka=p;S()}function ua(p){d=p;ba()}function ra(p){S(p)}function S(p){la();if(w()){l.clearEvents();l.renderEvents(ka,p);l.eventsDirty=false}}function ba(){if(w()){l.clearSessions();l.renderSessions(d)}}function la(){m.each(z,function(p,h){h.eventsDirty=true})}function pa(p,h,x){l.select(p,h,x===ma?true:x)}function F(){l&&l.unselect()}function r(){E(-1)}function J(){E(1)}function c(){gb(Y,-1);E()}function B(){gb(Y,
1);E()}function G(){Y=new Date;E()}function Q(p,h,x){if(p instanceof Date)Y=K(p);else yb(Y,p,h,x);E()}function ta(p,h,x){p!==ma&&gb(Y,p);h!==ma&&hb(Y,h);x!==ma&&$(Y,x);E()}function za(){return K(Y)}function L(){return l}function j(p,h){if(h===ma)return b[p];if(p=="height"||p=="contentHeight"||p=="aspectRatio"){b[p]=h;o()}}function I(p,h){if(b[p])return b[p].apply(h||W,Array.prototype.slice.call(arguments,2))}var u=this;u.options=b;u.render=f;u.destroy=s;u.refetchEvents=ia;u.reportEvents=oa;u.reportEventChange=
ra;u.rerenderEvents=S;u.refetchSessions=ja;u.reportSessions=ua;u.rerenderSessions=ba;u.changeView=R;u.select=pa;u.unselect=F;u.prev=r;u.next=J;u.prevYear=c;u.nextYear=B;u.today=G;u.gotoDate=Q;u.incrementDate=ta;u.formatDate=function(p,h){return Ka(p,h,b)};u.formatDates=function(p,h,x){return ib(p,h,x,b)};u.getDate=za;u.getView=L;u.option=j;u.trigger=I;Zb.call(u,b,e);var P=u.isFetchNeeded,C=u.fetchEvents;$b.call(u,b,b.sessions);var U=u.fetchSessions,W=a[0],V,q,k,y,l,z={},H,N,X,aa=0,da=0,Y=new Date,
ka=[];d=[];var ga;yb(Y,b.year,b.month,b.date);b.droppable&&m(document).bind("dragstart",function(p,h){var x=p.target,M=m(x);if(!M.parents(".fc").length){var T=b.dropAccept;if(m.isFunction(T)?T.call(x,M):M.is(T)){ga=x;l.dragStart(ga,p,h)}}}).bind("dragstop",function(p,h){if(ga){l.dragStop(ga,p,h);ga=null}})}function Yb(a,b){function e(){o=b.theme?"ui":"fc";if(b.header)return E=m("<table class='fc-header' style='width:100%'/>").append(m("<tr/>").append(f("left")).append(f("center")).append(f("right")))}
function d(){E.remove()}function f(t){var ca=m("<td class='fc-header-"+t+"'/>");(t=b.header[t])&&m.each(t.split(" "),function(ha){ha>0&&ca.append("<span class='fc-header-space'/>");var ea;m.each(this.split(","),function(na,qa){if(qa=="title"){ca.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ea&&ea.addClass(o+"-corner-right");ea=null}else{var ia;if(a[qa])ia=a[qa];else if(Ja[qa])ia=function(){oa.removeClass(o+"-state-hover");a.changeView(qa)};if(ia){na=b.theme?jb(b.buttonIcons,qa):
null;var ja=jb(b.buttonText,qa),oa=m("<span class='fc-button fc-button-"+qa+" "+o+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(na?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+na+"'/></span>":ja)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(oa){oa.click(function(){oa.hasClass(o+"-state-disabled")||ia()}).mousedown(function(){oa.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")}).mouseup(function(){oa.removeClass(o+
"-state-down")}).hover(function(){oa.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")},function(){oa.removeClass(o+"-state-hover").removeClass(o+"-state-down")}).appendTo(ca);ea||oa.addClass(o+"-corner-left");ea=oa}}}});ea&&ea.addClass(o+"-corner-right")});return ca}function g(t){E.find("h2").html(t)}function n(t){E.find("span.fc-button-"+t).addClass(o+"-state-active")}function s(t){E.find("span.fc-button-"+t).removeClass(o+"-state-active")}function w(t){E.find("span.fc-button-"+
t).addClass(o+"-state-disabled")}function v(t){E.find("span.fc-button-"+t).removeClass(o+"-state-disabled")}var R=this;R.render=e;R.destroy=d;R.updateTitle=g;R.activateButton=n;R.deactivateButton=s;R.disableButton=w;R.enableButton=v;var E=m([]),o}function Zb(a,b){function e(c,B){return!ba||c<ba||B>la}function d(c,B){ba=c;la=B;J=[];c=++pa;F=B=S.length;for(var G=0;G<B;G++)f(S[G],c)}function f(c,B){g(c,function(G){if(B==pa){if(G){for(var Q=0;Q<G.length;Q++){G[Q].source=c;ha(G[Q])}J=J.concat(G)}F--;F||
ua(J)}})}function g(c,B){var G,Q=Ba.sourceFetchers,ta;for(G=0;G<Q.length;G++){ta=Q[G](c,ba,la,B);if(ta===true)return;else if(typeof ta=="object"){g(ta,B);return}}if(G=c.events)if(m.isFunction(G)){t();G(K(ba),K(la),function(I){B(I);ca()})}else m.isArray(G)?B(G):B();else if(c.url){var za=c.success,L=c.error,j=c.complete;G=m.extend({},c.data||{});Q=Ta(c.startParam,a.startParam);ta=Ta(c.endParam,a.endParam);if(Q)G[Q]=Math.round(+ba/1E3);if(ta)G[ta]=Math.round(+la/1E3);t();m.ajax(m.extend({},ac,c,{data:G,
success:function(I){I=I||[];var u=$a(za,this,arguments);if(m.isArray(u))I=u;B(I)},error:function(){$a(L,this,arguments);B()},complete:function(){$a(j,this,arguments);ca()}}))}else B()}function n(c){if(c=s(c)){F++;f(c,pa)}}function s(c){if(m.isFunction(c)||m.isArray(c))c={events:c};else if(typeof c=="string")c={url:c};if(typeof c=="object"){ea(c);S.push(c);return c}}function w(c){S=m.grep(S,function(B){return!na(B,c)});J=m.grep(J,function(B){return!na(B.source,c)});ua(J)}function v(c){var B,G=J.length,
Q,ta=oa().defaultEventEnd,za=c.start-c._start,L=c.end?c.end-(c._end||ta(c)):0;for(B=0;B<G;B++){Q=J[B];if(Q._id==c._id&&Q!=c){Q.start=new Date(+Q.start+za);Q.end=c.end?Q.end?new Date(+Q.end+L):new Date(+ta(Q)+L):null;Q.title=c.title;Q.url=c.url;Q.allDay=c.allDay;Q.className=c.className;Q.editable=c.editable;Q.color=c.color;Q.backgroudColor=c.backgroudColor;Q.borderColor=c.borderColor;Q.textColor=c.textColor;ha(Q)}}ha(c);ua(J)}function R(c,B){ha(c);if(!c.source){if(B){ra.events.push(c);c.source=ra}J.push(c)}ua(J)}
function E(c){if(c){if(!m.isFunction(c)){var B=c+"";c=function(Q){return Q._id==B}}J=m.grep(J,c,true);for(G=0;G<S.length;G++)if(m.isArray(S[G].events))S[G].events=m.grep(S[G].events,c,true)}else{J=[];for(var G=0;G<S.length;G++)if(m.isArray(S[G].events))S[G].events=[]}ua(J)}function o(c){if(m.isFunction(c))return m.grep(J,c);else if(c){c+="";return m.grep(J,function(B){return B._id==c})}return J}function t(){r++||ja("loading",null,true)}function ca(){--r||ja("loading",null,false)}function ha(c){var B=
c.source||{},G=Ta(B.ignoreTimezone,a.ignoreTimezone);c._id=c._id||(c.id===ma?"_fc"+bc++:c.id+"");if(c.date){if(!c.start)c.start=c.date;delete c.date}c._start=K(c.start=ab(c.start,G));c.end=ab(c.end,G);if(c.end&&c.end<=c.start)c.end=null;c._end=c.end?K(c.end):null;if(c.allDay===ma)c.allDay=Ta(B.allDayDefault,a.allDayDefault);if(c.className){if(typeof c.className=="string")c.className=c.className.split(/\s+/)}else c.className=[]}function ea(c){if(c.className){if(typeof c.className=="string")c.className=
c.className.split(/\s+/)}else c.className=[];for(var B=Ba.sourceNormalizers,G=0;G<B.length;G++)B[G](c)}function na(c,B){return c&&B&&qa(c)==qa(B)}function qa(c){return(typeof c=="object"?c.events||c.url:"")||c}var ia=this;ia.isFetchNeeded=e;ia.fetchEvents=d;ia.addEventSource=n;ia.removeEventSource=w;ia.updateEvent=v;ia.renderEvent=R;ia.removeEvents=E;ia.clientEvents=o;ia.normalizeEvent=ha;var ja=ia.trigger,oa=ia.getView,ua=ia.reportEvents,ra={events:[]},S=[ra],ba,la,pa=0,F=0,r=0,J=[];for(ia=0;ia<
b.length;ia++)s(b[ia])}function $b(a,b){function e(){if(f)if(m.isFunction(f))d(f());else m.isArray(f)?d(f):d([]);else d([])}a=this;a.fetchSessions=e;var d=a.reportSessions,f=b||[]}function gb(a,b,e){a.setFullYear(a.getFullYear()+b);e||La(a);return a}function hb(a,b,e){if(+a){b=a.getMonth()+b;var d=K(a);d.setDate(1);d.setMonth(b);a.setMonth(b);for(e||La(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function $(a,b,e){if(+a){b=a.getDate()+b;var d=K(a);d.setHours(9);d.setDate(b);
a.setDate(b);e||La(a);kb(a,d)}return a}function kb(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*cc)}function ya(a,b){a.setMinutes(a.getMinutes()+b);return a}function La(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function K(a,b){if(b)return La(new Date(+a));return new Date(+a)}function dc(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());return b}function Fa(a,b,e){for(b=b||1;!a.getDay()||e&&a.getDay()==1||!e&&a.getDay()==6;)$(a,b);return a}
function Ca(a,b){return Math.round((K(a,true)-K(b,true))/zb)}function yb(a,b,e,d){if(b!==ma&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(e!==ma&&e!=a.getMonth()){a.setDate(1);a.setMonth(e)}d!==ma&&a.setDate(d)}function ab(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*1E3);if(b===ma)b=true;return Ab(a,b)||(a?new Date(a):null)}return null}function Ab(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);
if(!a)return null;var e=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){e.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){e.setDate(a[5]);b.setDate(a[5])}kb(e,b);a[7]&&e.setHours(a[7]);a[8]&&e.setMinutes(a[8]);a[10]&&e.setSeconds(a[10]);a[12]&&e.setMilliseconds(Number("0."+a[12])*1E3);kb(e,b)}else{e.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);e.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;
e=new Date(+e+b*60*1E3)}}return e}function lb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],10):0)}}function Ka(a,b,e){return ib(a,null,b,e)}function ib(a,b,e,d){d=d||Ya;var f=a,g=b,n,s=e.length,w,v,R,E="";for(n=0;n<s;n++){w=e.charAt(n);if(w=="'")for(v=n+1;v<s;v++){if(e.charAt(v)=="'"){if(f){E+=
v==n+1?"'":e.substring(n+1,v);n=v}break}}else if(w=="(")for(v=n+1;v<s;v++){if(e.charAt(v)==")"){n=Ka(f,e.substring(n+1,v),d);if(parseInt(n.replace(/\D/,""),10))E+=n;n=v;break}}else if(w=="[")for(v=n+1;v<s;v++){if(e.charAt(v)=="]"){w=e.substring(n+1,v);n=Ka(f,w,d);if(n!=Ka(g,w,d))E+=n;n=v;break}}else if(w=="{"){f=b;g=a}else if(w=="}"){f=a;g=b}else{for(v=s;v>n;v--)if(R=ec[e.substring(n,v)]){if(f)E+=R(f,d);n=v-1;break}if(v==n)if(f)E+=w}}return E}function Ua(a){return a.end?fc(a.end,a.allDay):$(K(a.start),
1)}function fc(a,b){a=K(a);return b||a.getHours()||a.getMinutes()?$(a,1):La(a)}function gc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Bb(a,b){return a.end>b.start&&a.start<b.end}function mb(a,b,e,d){var f=[],g,n=a.length,s,w,v,R,E;for(g=0;g<n;g++){s=a[g];w=s.start;v=b[g];if(v>e&&w<d){if(w<e){w=K(e);R=false}else{w=w;R=true}if(v>d){v=K(d);E=false}else{v=v;E=true}f.push({event:s,start:w,end:v,isStart:R,isEnd:E,msLength:v-w})}}return f.sort(gc)}function nb(a){var b=
[],e,d=a.length,f,g,n,s;for(e=0;e<d;e++){f=a[e];for(g=0;;){n=false;if(b[g])for(s=0;s<b[g].length;s++)if(Bb(b[g][s],f)){n=true;break}if(n)g++;else break}if(b[g])b[g].push(f);else b[g]=[f]}return b}function Cb(a,b,e){a.unbind("mouseover").mouseover(function(d){for(var f=d.target,g;f!=this;){g=f;f=f.parentNode}if((f=g._fci)!==ma){g._fci=ma;g=b[f];e(g.event,g.element,g);m(d.target).trigger(d)}d.stopPropagation()})}function Va(a,b,e){for(var d=0,f;d<a.length;d++){f=m(a[d]);f.width(Math.max(0,b-ob(f,e)))}}
function Db(a,b,e){for(var d=0,f;d<a.length;d++){f=m(a[d]);f.height(Math.max(0,b-Sa(f,e)))}}function ob(a,b){return hc(a)+ic(a)+(b?jc(a):0)}function hc(a){return(parseFloat(m.css(a[0],"paddingLeft",true))||0)+(parseFloat(m.css(a[0],"paddingRight",true))||0)}function jc(a){return(parseFloat(m.css(a[0],"marginLeft",true))||0)+(parseFloat(m.css(a[0],"marginRight",true))||0)}function ic(a){return(parseFloat(m.css(a[0],"borderLeftWidth",true))||0)+(parseFloat(m.css(a[0],"borderRightWidth",true))||0)}function Sa(a,
b){return kc(a)+lc(a)+(b?Eb(a):0)}function kc(a){return(parseFloat(m.css(a[0],"paddingTop",true))||0)+(parseFloat(m.css(a[0],"paddingBottom",true))||0)}function Eb(a){return(parseFloat(m.css(a[0],"marginTop",true))||0)+(parseFloat(m.css(a[0],"marginBottom",true))||0)}function lc(a){return(parseFloat(m.css(a[0],"borderTopWidth",true))||0)+(parseFloat(m.css(a[0],"borderBottomWidth",true))||0)}function Za(a,b){b=typeof b=="number"?b+"px":b;a.each(function(e,d){d.style.cssText+=";min-height:"+b+";_height:"+
b})}function xb(){}function Fb(a,b){return a-b}function Gb(a){return Math.max.apply(Math,a)}function Pa(a){return(a<10?"0":"")+a}function jb(a,b){if(a[b]!==ma)return a[b];b=b.split(/(?=[A-Z])/);for(var e=b.length-1,d;e>=0;e--){d=a[b[e].toLowerCase()];if(d!==ma)return d}return a[""]}function Qa(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Hb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,
"")}function pb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function bb(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function qb(a,b){a.each(function(e,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+mc[b.getDay()])})}function Ib(a,b){var e=a.source||{},d=a.color,f=e.color,g=b("eventColor"),n=a.backgroundColor||d||e.backgroundColor||f||b("eventBackgroundColor")||
g;d=a.borderColor||d||e.borderColor||f||b("eventBorderColor")||g;a=a.textColor||e.textColor||b("eventTextColor");b=[];n&&b.push("background-color:"+n);d&&b.push("border-color:"+d);a&&b.push("color:"+a);return b.join(";")}function $a(a,b,e){if(m.isFunction(a))a=[a];if(a){var d,f;for(d=0;d<a.length;d++)f=a[d].apply(b,e)||f;return f}}function Ta(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==ma)return arguments[a]}function nc(a,b){function e(s,w){if(w){hb(s,w);s.setDate(1)}s=K(s,true);s.setDate(1);
w=hb(K(s),1);var v=K(s),R=K(w),E=f("firstDay"),o=f("weekends")?0:1;if(o){Fa(v);Fa(R,-1,true)}$(v,-((v.getDay()-Math.max(E,o)+7)%7));$(R,(7-R.getDay()+Math.max(E,o))%7);E=Math.round((R-v)/(zb*7));if(f("weekMode")=="fixed"){$(R,(6-E)*7);E=6}d.title=n(s,f("titleFormat"));d.start=s;d.end=w;d.visStart=v;d.visEnd=R;g(6,E,o?5:7,true)}var d=this;d.render=e;rb.call(d,a,b,"month");var f=d.opt,g=d.renderBasic,n=b.formatDate}function oc(a,b){function e(s,w){w&&$(s,w*7);s=$(K(s),-((s.getDay()-f("firstDay")+7)%
7));w=$(K(s),7);var v=K(s),R=K(w),E=f("weekends");if(!E){Fa(v);Fa(R,-1,true)}d.title=n(v,$(K(R),-1),f("titleFormat"));d.start=s;d.end=w;d.visStart=v;d.visEnd=R;g(1,1,E?7:5,false)}var d=this;d.render=e;rb.call(d,a,b,"basicWeek");var f=d.opt,g=d.renderBasic,n=b.formatDates}function pc(a,b){function e(s,w){if(w){$(s,w);f("weekends")||Fa(s,w<0?-1:1)}d.title=n(s,f("titleFormat"));d.start=d.visStart=K(s,true);d.end=d.visEnd=$(K(d.start),1);g(1,1,1,false)}var d=this;d.render=e;rb.call(d,a,b,"basicDay");
var f=d.opt,g=d.renderBasic,n=b.formatDate}function rb(a,b,e){function d(h,x,M,T){y=x;l=M;f();(x=!I)?g(h,T):B();n(x)}function f(){if(X=J("isRTL")){aa=-1;da=l-1}else{aa=1;da=0}Y=J("firstDay");ka=J("weekends")?0:1;ga=J("theme")?"ui":"fc";p=J("columnFormat")}function g(h,x){var M,T=ga+"-widget-header",fa=ga+"-widget-content",Z;M="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(Z=0;Z<l;Z++)M+="<th class='fc- "+T+"'/>";M+="</tr></thead><tbody>";for(Z=0;Z<h;Z++){M+=
"<tr class='fc-week"+Z+"'>";for(T=0;T<l;T++)M+="<td class='fc- "+fa+" fc-day"+(Z*l+T)+"'><div>"+(x?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";M+="</tr>"}M+="</tbody></table>";h=m(M).appendTo(a);L=h.find("thead");j=L.find("th");I=h.find("tbody");u=I.find("tr");P=I.find("td");C=P.filter(":first-child");U=u.eq(0).find("div.fc-day-content div");bb(L.add(L.find("tr")));bb(u);u.eq(0).addClass("fc-first");v(P);W=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}
function n(h){var x=h||y==1,M=r.start.getMonth(),T=La(new Date),fa,Z,va;x&&j.each(function(wa,Ga){fa=m(Ga);Z=ba(wa);fa.html(za(Z,p));qb(fa,Z)});P.each(function(wa,Ga){fa=m(Ga);Z=ba(wa);Z.getMonth()==M?fa.removeClass("fc-other-month"):fa.addClass("fc-other-month");+Z==+T?fa.addClass(ga+"-state-highlight fc-today"):fa.removeClass(ga+"-state-highlight fc-today");fa.find("div.fc-day-number").text(Z.getDate());x&&qb(fa,Z)});u.each(function(wa,Ga){va=m(Ga);if(wa<y){va.show();wa==y-1?va.addClass("fc-last"):
va.removeClass("fc-last")}else va.hide()})}function s(h){q=h;h=q-L.height();var x,M,T;if(J("weekMode")=="variable")x=M=Math.floor(h/(y==1?2:6));else{x=Math.floor(h/y);M=h-x*(y-1)}C.each(function(fa,Z){if(fa<y){T=m(Z);Za(T.find("> div"),(fa==y-1?M:x)-Sa(T))}})}function w(h){V=h;N.clear();k=Math.floor(V/l);Va(j.slice(0,-1),k)}function v(h){h.click(R).mousedown(ta)}function R(h){if(!J("selectable")){var x=parseInt(this.className.match(/fc\-day(\d+)/)[1]);x=ba(x);c("dayClick",this,x,true,h)}}function E(h,
x,M){M&&z.build();M=K(r.visStart);for(var T=$(K(M),l),fa=0;fa<y;fa++){var Z=new Date(Math.max(M,h)),va=new Date(Math.min(T,x));if(Z<va){var wa;if(X){wa=Ca(va,M)*aa+da+1;Z=Ca(Z,M)*aa+da+1}else{wa=Ca(Z,M);Z=Ca(va,M)}v(o(fa,wa,fa,Z-1))}$(M,7);$(T,7)}}function o(h,x,M,T){h=z.rect(h,x,M,T,a);return G(h,a)}function t(h){return K(h)}function ca(h,x){E(h,$(K(x),1),true)}function ha(){Q()}function ea(h,x,M){var T=ua(h);c("dayClick",P[T.row*l+T.col],h,x,M)}function na(h,x){H.start(function(M){Q();M&&o(M.row,
M.col,M.row,M.col)},x)}function qa(h,x,M){var T=H.stop();Q();if(T){T=ra(T);c("drop",h,T,true,x,M)}}function ia(h){return K(h.start)}function ja(h){return N.left(h)}function oa(h){return N.right(h)}function ua(h){return{row:Math.floor(Ca(h,r.visStart)/7),col:la(h.getDay())}}function ra(h){return S(h.row,h.col)}function S(h,x){return $(K(r.visStart),h*7+x*aa+da)}function ba(h){return S(Math.floor(h/l),h%l)}function la(h){return(h-Math.max(Y,ka)+l)%l*aa+da}function pa(h){return u.eq(h)}function F(){return{left:0,
right:V}}var r=this;r.renderBasic=d;r.setHeight=s;r.setWidth=w;r.renderDayOverlay=E;r.defaultSelectionEnd=t;r.renderSelection=ca;r.clearSelection=ha;r.reportDayClick=ea;r.dragStart=na;r.dragStop=qa;r.defaultEventEnd=ia;r.getHoverListener=function(){return H};r.colContentLeft=ja;r.colContentRight=oa;r.dayOfWeekCol=la;r.dateCell=ua;r.cellDate=ra;r.cellIsAllDay=function(){return true};r.allDayRow=pa;r.allDayBounds=F;r.getRowCnt=function(){return y};r.getColCnt=function(){return l};r.getColWidth=function(){return k};
r.getDaySegmentContainer=function(){return W};Jb.call(r,a,b,e);Kb.call(r);Lb.call(r);qc.call(r);var J=r.opt,c=r.trigger,B=r.clearEvents,G=r.renderOverlay,Q=r.clearOverlays,ta=r.daySelectionMousedown,za=b.formatDate,L,j,I,u,P,C,U,W,V,q,k,y,l,z,H,N,X,aa,da,Y,ka,ga,p;pb(a.addClass("fc-grid"));z=new Mb(function(h,x){var M,T,fa;j.each(function(Z,va){M=m(va);T=M.offset().left;if(Z)fa[1]=T;fa=[T];x[Z]=fa});fa[1]=T+M.outerWidth();u.each(function(Z,va){if(Z<y){M=m(va);T=M.offset().top;if(Z)fa[1]=T;fa=[T];
h[Z]=fa}});fa[1]=T+M.outerHeight()});H=new Nb(z);N=new Ob(function(h){return U.eq(h)})}function qc(){function a(S,ba){R(S);ua(e(S),ba)}function b(){E();ea().empty()}function e(S){var ba=ja(),la=oa(),pa=K(g.visStart);la=$(K(pa),la);var F=m.map(S,Ua),r,J,c,B,G,Q,ta=[];for(r=0;r<ba;r++){J=nb(mb(S,F,pa,la));for(c=0;c<J.length;c++){B=J[c];for(G=0;G<B.length;G++){Q=B[G];Q.row=r;Q.level=c;ta.push(Q)}}$(pa,7);$(la,7)}return ta}function d(S,ba,la){w(S)&&f(S,ba);la.isEnd&&v(S)&&ra(S,ba,la);o(S,ba)}function f(S,
ba){var la=na(),pa;ba.draggable({zIndex:9,delay:50,opacity:n("dragOpacity"),revertDuration:n("dragRevertDuration"),start:function(F,r){s("eventDragStart",ba,S,F,r);ca(S,ba);la.start(function(J,c,B,G){ba.draggable("option","revert",!J||!B&&!G);ia();if(J){pa=B*7+G*(n("isRTL")?-1:1);qa($(K(S.start),pa),$(Ua(S),pa))}else pa=0},F,"drag")},stop:function(F,r){la.stop();ia();s("eventDragStop",ba,S,F,r);if(pa)ha(this,S,pa,0,S.allDay,F,r);else{ba.css("filter","");t(S,ba)}}})}var g=this;g.renderEvents=a;g.compileDaySegs=
e;g.clearEvents=b;g.bindDaySeg=d;Pb.call(g);var n=g.opt,s=g.trigger,w=g.isEventDraggable,v=g.isEventResizable,R=g.reportEvents,E=g.reportEventClear,o=g.eventElementHandlers,t=g.showEvents,ca=g.hideEvents,ha=g.eventDrop,ea=g.getDaySegmentContainer,na=g.getHoverListener,qa=g.renderDayOverlay,ia=g.clearOverlays,ja=g.getRowCnt,oa=g.getColCnt,ua=g.renderDaySegs,ra=g.resizableDayEvent}function rc(a,b){function e(v,R){R&&$(v,R*7);v=$(K(v),-((v.getDay()-n("firstDay")+7)%7));R=$(K(v),7);var E=K(v),o=K(R),
t=n("weekends");if(!t){Fa(E);Fa(o,-1,true)}g.title=w(E,$(K(o),-1),n("titleFormat"));g.start=v;g.end=R;g.visStart=E;g.visEnd=o;s(t?7:5)}function d(){m("tbody").find(".active").css("background","transparent").removeClass("active")}function f(v){var R=b.options.slotMinutes,E=(g.end-g.start)/(6E4*R);if(v){v=v.filter(function(na){return na.start<g.end&&na.end>g.start});for(var o=0;o<v.length;o++){for(var t=v[o],ca="",ha=K(g.start),ea=0;ea<E;ea++){if(ha>=t.start&&ha<t.end)ca+=".ts-"+ha.getDay()+Ka(ha,"-HH-mm")+
", ";ya(ha,R)}m("tbody").find(ca).addClass("active").css("background",t.colour?t.colour:"white")}}}var g=this;g.render=e;g.renderSessions=f;g.clearSessions=d;Qb.call(g,a,b,"agendaWeek");var n=g.opt,s=g.renderAgenda,w=b.formatDates}function sc(a,b){function e(s,w){if(w){$(s,w);f("weekends")||Fa(s,w<0?-1:1)}w=K(s,true);var v=$(K(w),1);d.title=n(s,f("titleFormat"));d.start=d.visStart=w;d.end=d.visEnd=v;g(1)}var d=this;d.render=e;Qb.call(d,a,b,"agendaDay");var f=d.opt,g=d.renderAgenda,n=b.formatDate}
function Qb(a,b,e){function d(i){Aa=i;f();y?u():g();n()}function f(){sb=j("theme")?"ui":"fc";Rb=j("weekends")?0:1;Sb=j("firstDay");if(Tb=j("isRTL")){Ha=-1;Ia=Aa-1}else{Ha=1;Ia=0}Ma=lb(j("minTime"));cb=lb(j("maxTime"));Ub=j("columnFormat")}function g(){var i=sb+"-widget-header",O=sb+"-widget-content",A,D,sa,xa,Ea,Da=j("slotMinutes")%15==0;A="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>";for(D=0;D<Aa;D++)A+=
"<th class='fc- fc-col"+D+" "+i+"'/>";A+="<th class='fc-agenda-gutter "+i+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+i+"'>&nbsp;</th>";for(D=0;D<Aa;D++)A+="<td class='fc- fc-col"+D+" "+O+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";A+="<td class='fc-agenda-gutter "+O+"'>&nbsp;</td></tr></tbody></table>";y=m(A).appendTo(a);l=y.find("thead");z=l.find("th").slice(1,-1);H=y.find("tbody");N=H.find("td").slice(0,-1);X=N.find("div.fc-day-content div");
aa=N.eq(0);da=aa.find("> div");bb(l.add(l.find("tr")));bb(H.add(H.find("tr")));Z=l.find("th:first");va=y.find(".fc-agenda-gutter");Y=m("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(j("allDaySlot")){ka=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Y);A="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+i+" fc-agenda-axis'>"+j("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+
i+" fc-agenda-gutter'>&nbsp;</th></tr></table>";ga=m(A).appendTo(Y);p=ga.find("tr");o(p.find("td"));Z=Z.add(ga.find("th:first"));va=va.add(ga.find("th.fc-agenda-gutter"));Y.append("<div class='fc-agenda-divider "+i+"'><div class='fc-agenda-divider-inner'/></div>")}else ka=m([]);h=m("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(Y);x=m("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(h);M=m("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(x);
A="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";sa=ab(k(new Date,"ddd MMM dd yyyy"));Ea=ya(K(sa),cb);ya(sa,Ma);for(D=tb=0;sa<Ea;D++){xa=sa.getMinutes();A+="<tr class='fc-slot"+D+" "+(!xa?"":"fc-minor")+"'><th class='fc-agenda-axis "+i+"'>"+(!Da||!xa?k(sa,j("axisFormat")):"&nbsp;")+"</th><td class='"+O+"'>";for(xa=0;xa<Aa;xa++)A+="<div class='fc-session-slot fc-col"+xa+" ts-"+xa+"-"+k(sa,"HH-mm")+"'><div>"+k(sa,"HH:mm")+"</div></div>";A+="</td></tr>";ya(sa,j("slotMinutes"));
tb++}A+="</tbody></table>";T=m(A).appendTo(x);fa=T.find("div:first");t(T.find("td"));Z=Z.add(T.find("th:first"))}function n(){var i,O,A,D;La(new Date);for(i=0;i<Aa;i++){D=ua(i);O=z.eq(i);O.html(k(D,Ub));A=N.eq(i);qb(O.add(A),D)}}function s(i,O){if(i===ma)i=Vb;Vb=i;ub={};var A=H.position().top,D=h.position().top;i=Math.min(i-A,T.height()+D+1);da.height(i-Sa(aa));Y.css("top",A);h.height(i-D-1);Wa=fa.height()+1;O&&v()}function w(i){Ga=i;db.clear();Na=0;Va(Z.width("").each(function(O,A){Na=Math.max(Na,
m(A).outerWidth())}),Na);i=h[0].clientWidth;if(vb=h.width()-i){Va(va,vb);va.show().prev().removeClass("fc-last")}else va.hide().prev().addClass("fc-last");Xa=Math.floor((i-Na)/Aa);Va(z.slice(0,-1),Xa);m(".fc-session-slot").width(Xa)}function v(){function i(){h.scrollTop(D)}var O=dc(),A=K(O);A.setHours(j("firstHour"));var D=ba(O,A)+1;i();setTimeout(i,0)}function R(){Wb=h.scrollTop()}function E(){h.scrollTop(Wb)}function o(i){i.click(ca).mousedown(V)}function t(i){i.click(ca).mousedown(G)}function ca(i){if(!j("selectable")){var O=
Math.min(Aa-1,Math.floor((i.pageX-y.offset().left-Na)/Xa)),A=ua(O),D=this.parentNode.className.match(/fc-slot(\d+)/);if(D){D=parseInt(D[1])*j("slotMinutes");var sa=Math.floor(D/60);A.setHours(sa);A.setMinutes(D%60+Ma);I("dayClick",N[O],A,false,i)}else I("dayClick",N[O],A,true,i)}}function ha(i,O,A){A&&Oa.build();var D=K(L.visStart);if(Tb){A=Ca(O,D)*Ha+Ia+1;i=Ca(i,D)*Ha+Ia+1}else{A=Ca(i,D);i=Ca(O,D)}A=Math.max(0,A);i=Math.min(Aa,i);A<i&&o(ea(0,A,0,i-1))}function ea(i,O,A,D){i=Oa.rect(i,O,A,D,Y);return P(i,
Y)}function na(i,O){for(var A=K(L.visStart),D=$(K(A),1),sa=0;sa<Aa;sa++){var xa=new Date(Math.max(A,i)),Ea=new Date(Math.min(D,O));if(xa<Ea){var Da=sa*Ha+Ia;Da=Oa.rect(0,Da,0,Da,x);xa=ba(A,xa);Ea=ba(A,Ea);Da.top=xa;Da.height=Ea-xa;t(P(Da,x))}$(A,1);$(D,1)}}function qa(i){return db.left(i)}function ia(i){return db.right(i)}function ja(i){return{row:Math.floor(Ca(i,L.visStart)/7),col:S(i.getDay())}}function oa(i){var O=ua(i.col);i=i.row;j("allDaySlot")&&i--;i>=0&&ya(O,Ma+i*j("slotMinutes"));return O}
function ua(i){return $(K(L.visStart),i*Ha+Ia)}function ra(i){return j("allDaySlot")&&!i.row}function S(i){return(i-Math.max(Sb,Rb)+Aa)%Aa*Ha+Ia}function ba(i,O){i=K(i,true);if(O<ya(K(i),Ma))return 0;if(O>=ya(K(i),cb))return T.height();i=j("slotMinutes");O=O.getHours()*60+O.getMinutes()-Ma;var A=Math.floor(O/i),D=ub[A];if(D===ma)D=ub[A]=T.find("tr:eq("+A+") td div")[0].offsetTop;return Math.max(0,Math.round(D-1+Wa*(O%i/i)))}function la(){return{left:Na,right:Ga-vb}}function pa(){return p}function F(i){var O=
K(i.start);if(i.allDay)return O;return ya(O,j("defaultEventMinutes"))}function r(i,O){if(O)return K(i);return ya(K(i),j("slotMinutes"))}function J(i,O,A){if(A)j("allDaySlot")&&ha(i,$(K(O),1),true);else c(i,O)}function c(i,O){var A=j("selectHelper");Oa.build();if(A){var D=Ca(i,L.visStart)*Ha+Ia;if(D>=0&&D<Aa){D=Oa.rect(0,D,0,D,x);var sa=ba(i,i),xa=ba(i,O);if(xa>sa){D.top=sa;D.height=xa-sa;D.left+=2;D.width-=5;if(m.isFunction(A)){if(i=A(i,O)){D.position="absolute";D.zIndex=8;wa=m(i).css(D).appendTo(x)}}else{D.isStart=
true;D.isEnd=true;wa=m(q({title:"",start:i,end:O,className:["fc-select-helper"],editable:false},D));wa.css("opacity",j("dragOpacity"))}if(wa){t(wa);x.append(wa);Va(wa,D.width,true);Db(wa,D.height,true)}}}}else na(i,O)}function B(){C();if(wa){wa.remove();wa=null}}function G(i){if(i.which==1&&j("selectable")){W(i);var O;Ra.start(function(A,D){B();if(A&&A.col==D.col&&!ra(A)){D=oa(D);A=oa(A);O=[D,ya(K(D),j("slotMinutes")),A,ya(K(A),j("slotMinutes"))].sort(Fb);c(O[0],O[3])}else O=null},i);m(document).one("mouseup",
function(A){Ra.stop();if(O){+O[0]==+O[1]&&Q(O[0],false,A);U(O[0],O[3],false,A)}})}}function Q(i,O,A){I("dayClick",N[S(i.getDay())],i,O,A)}function ta(i,O){Ra.start(function(A){C();if(A)if(ra(A))ea(A.row,A.col,A.row,A.col);else{A=oa(A);var D=ya(K(A),j("defaultEventMinutes"));na(A,D)}},O)}function za(i,O,A){var D=Ra.stop();C();D&&I("drop",i,oa(D),ra(D),O,A)}var L=this;L.renderAgenda=d;L.setWidth=w;L.setHeight=s;L.beforeHide=R;L.afterShow=E;L.defaultEventEnd=F;L.timePosition=ba;L.dayOfWeekCol=S;L.dateCell=
ja;L.cellDate=oa;L.cellIsAllDay=ra;L.allDayRow=pa;L.allDayBounds=la;L.getHoverListener=function(){return Ra};L.colContentLeft=qa;L.colContentRight=ia;L.getDaySegmentContainer=function(){return ka};L.getSlotSegmentContainer=function(){return M};L.getMinMinute=function(){return Ma};L.getMaxMinute=function(){return cb};L.getBodyContent=function(){return x};L.getRowCnt=function(){return 1};L.getColCnt=function(){return Aa};L.getColWidth=function(){return Xa};L.getSlotHeight=function(){return Wa};L.defaultSelectionEnd=
r;L.renderDayOverlay=ha;L.renderSelection=J;L.clearSelection=B;L.reportDayClick=Q;L.dragStart=ta;L.dragStop=za;Jb.call(L,a,b,e);Kb.call(L);Lb.call(L);tc.call(L);var j=L.opt,I=L.trigger,u=L.clearEvents,P=L.renderOverlay,C=L.clearOverlays,U=L.reportSelection,W=L.unselect,V=L.daySelectionMousedown,q=L.slotSegHtml,k=b.formatDate,y,l,z,H,N,X,aa,da,Y,ka,ga,p,h,x,M,T,fa,Z,va,wa,Ga,Vb,Na,Xa,vb,Wa,Wb,Aa,tb,Oa,Ra,db,ub={},sb,Sb,Rb,Tb,Ha,Ia,Ma,cb,Ub;pb(a.addClass("fc-agenda"));Oa=new Mb(function(i,O){function A(eb){return Math.max(Da,
Math.min(uc,eb))}var D,sa,xa;z.each(function(eb,vc){D=m(vc);sa=D.offset().left;if(eb)xa[1]=sa;xa=[sa];O[eb]=xa});xa[1]=sa+D.outerWidth();if(j("allDaySlot")){D=p;sa=D.offset().top;i[0]=[sa,sa+D.outerHeight()]}for(var Ea=x.offset().top,Da=h.offset().top,uc=Da+h.outerHeight(),fb=0;fb<tb;fb++)i.push([A(Ea+Wa*fb),A(Ea+Wa*(fb+1))])});Ra=new Nb(Oa);db=new Ob(function(i){return X.eq(i)})}function tc(){function a(q,k){qa(q);var y,l=q.length,z=[],H=[];for(y=0;y<l;y++)q[y].allDay?z.push(q[y]):H.push(q[y]);if(t("allDaySlot")){J(e(z),
k);oa()}g(d(H),k)}function b(){ia();ua().empty();ra().empty()}function e(q){q=nb(mb(q,m.map(q,Ua),o.visStart,o.visEnd));var k,y=q.length,l,z,H,N=[];for(k=0;k<y;k++){l=q[k];for(z=0;z<l.length;z++){H=l[z];H.row=0;H.level=k;N.push(H)}}return N}function d(q){var k=B(),y=la(),l=ba(),z=ya(K(o.visStart),y),H=m.map(q,f),N,X,aa,da,Y,ka,ga=[];for(N=0;N<k;N++){X=nb(mb(q,H,z,ya(K(z),l-y)));wc(X);for(aa=0;aa<X.length;aa++){da=X[aa];for(Y=0;Y<da.length;Y++){ka=da[Y];ka.col=N;ka.level=aa;ga.push(ka)}}$(z,1,true)}return ga}
function f(q){return q.end?K(q.end):ya(K(q.start),t("defaultEventMinutes"))}function g(q,k){var y,l=q.length,z,H,N,X,aa,da,Y,ka,ga,p="",h,x,M={},T={},fa=ra(),Z;y=B();if(h=t("isRTL")){x=-1;Z=y-1}else{x=1;Z=0}for(y=0;y<l;y++){z=q[y];H=z.event;N=pa(z.start,z.start);X=pa(z.start,z.end);aa=z.col;da=z.level;Y=z.forward||0;ka=F(aa*x+Z);ga=r(aa*x+Z)-ka;ga=Math.min(ga-6,ga*0.95);aa=da?ga/(da+Y+1):Y?(ga/(Y+1)-6)*2:ga;da=ka+ga/(da+Y+1)*da*x+(h?ga-aa:0);z.top=N;z.left=da;z.outerWidth=aa;z.outerHeight=X-N;p+=
n(H,z)}fa[0].innerHTML=p;h=fa.children();for(y=0;y<l;y++){z=q[y];H=z.event;p=m(h[y]);x=ca("eventRender",H,H,p);if(x===false)p.remove();else{if(x&&x!==true){p.remove();p=m(x).css({position:"absolute",top:z.top,left:z.left}).appendTo(fa)}z.element=p;if(H._id===k)w(H,p,z);else p[0]._fci=y;za(H,p)}}Cb(fa,q,w);for(y=0;y<l;y++){z=q[y];if(p=z.element){H=M[k=z.key=Hb(p[0])];z.vsides=H===ma?(M[k]=Sa(p,true)):H;H=T[k];z.hsides=H===ma?(T[k]=ob(p,true)):H;k=p.find("div.fc-event-content");if(k.length)z.contentTop=
k[0].offsetTop}}for(y=0;y<l;y++){z=q[y];if(p=z.element){p[0].style.width=Math.max(0,z.outerWidth-z.hsides)+"px";M=Math.max(0,z.outerHeight-z.vsides);p[0].style.height=M+"px";H=z.event;if(z.contentTop!==ma&&M-z.contentTop<10){p.find("div.fc-event-time").text(W(H.start,t("timeFormat"))+" - "+H.title);p.find("div.fc-event-title").remove()}ca("eventAfterRender",H,H,p)}}}function n(q,k){var y="<",l=q.url,z=Ib(q,t),H=z?" style='"+z+"'":"",N=["fc-event","fc-event-skin","fc-event-vert"];ha(q)&&N.push("fc-event-draggable");
k.isStart&&N.push("fc-corner-top");k.isEnd&&N.push("fc-corner-bottom");N=N.concat(q.className);if(q.source)N=N.concat(q.source.className||[]);y+=l?"a href='"+Qa(q.url)+"'":"div";y+=" class='"+N.join(" ")+"' style='position:absolute;z-index:8;top:"+k.top+"px;left:"+k.left+"px;"+z+"'><div class='fc-event-inner fc-event-skin'"+H+"><div class='fc-event-head fc-event-skin'"+H+"><div class='fc-event-time'>"+Qa(V(q.start,q.end,t("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+
Qa(q.title)+"</div></div><div class='fc-event-bg'></div></div>";if(k.isEnd&&ea(q))y+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";y+="</"+(l?"a":"div")+">";return y}function s(q,k,y){ha(q)&&v(q,k,y.isStart);y.isEnd&&ea(q)&&c(q,k,y);ja(q,k)}function w(q,k,y){var l=k.find("div.fc-event-time");ha(q)&&R(q,k,l);y.isEnd&&ea(q)&&E(q,k,l);ja(q,k)}function v(q,k,y){function l(){if(!N){k.width(z).height("").draggable("option","grid",null);N=true}}var z,H,N=true,X,aa=t("isRTL")?-1:1,da=S(),Y=G(),
ka=Q(),ga=la();k.draggable({zIndex:9,opacity:t("dragOpacity","month"),revertDuration:t("dragRevertDuration"),start:function(p,h){ca("eventDragStart",k,q,p,h);j(q,k);z=k.width();da.start(function(x,M,T,fa){C();if(x){H=false;X=fa*aa;if(x.row)if(y){if(N){k.width(Y-10);Db(k,ka*Math.round((q.end?(q.end-q.start)/xc:t("defaultEventMinutes"))/t("slotMinutes")));k.draggable("option","grid",[Y,1]);N=false}}else H=true;else{P($(K(q.start),X),$(Ua(q),X));l()}H=H||N&&!X}else{l();H=true}k.draggable("option","revert",
H)},p,"drag")},stop:function(p,h){da.stop();C();ca("eventDragStop",k,q,p,h);if(H){l();k.css("filter","");L(q,k)}else{var x=0;N||(x=Math.round((k.offset().top-ta().offset().top)/ka)*t("slotMinutes")+ga-(q.start.getHours()*60+q.start.getMinutes()));I(this,q,X,x,N,p,h)}}})}function R(q,k,y){function l(x){var M=ya(K(q.start),x),T;if(q.end)T=ya(K(q.end),x);y.text(V(M,T,t("timeFormat")))}function z(){if(N){y.css("display","");k.draggable("option","grid",[p,h]);N=false}}var H,N=false,X,aa,da,Y=t("isRTL")?
-1:1,ka=S(),ga=B(),p=G(),h=Q();k.draggable({zIndex:9,scroll:false,grid:[p,h],axis:ga==1?"y":false,opacity:t("dragOpacity"),revertDuration:t("dragRevertDuration"),start:function(x,M){ca("eventDragStart",k,q,x,M);j(q,k);H=k.position();aa=da=0;ka.start(function(T,fa,Z,va){k.draggable("option","revert",!T);C();if(T){X=va*Y;if(t("allDaySlot")&&!T.row){if(!N){N=true;y.hide();k.draggable("option","grid",null)}P($(K(q.start),X),$(Ua(q),X))}else z()}},x,"drag")},drag:function(x,M){aa=Math.round((M.position.top-
H.top)/h)*t("slotMinutes");if(aa!=da){N||l(aa);da=aa}},stop:function(x,M){var T=ka.stop();C();ca("eventDragStop",k,q,x,M);if(T&&(X||aa||N))I(this,q,X,N?0:aa,N,x,M);else{z();k.css("filter","");k.css(H);l(0);L(q,k)}}})}function E(q,k,y){var l,z,H=Q();k.resizable({handles:{s:"div.ui-resizable-s"},grid:H,start:function(N,X){l=z=0;j(q,k);k.css("z-index",9);ca("eventResizeStart",this,q,N,X)},resize:function(N,X){l=Math.round((Math.max(H,k.height())-X.originalSize.height)/H);if(l!=z){y.text(V(q.start,!l&&
!q.end?null:ya(na(q),t("slotMinutes")*l),t("timeFormat")));z=l}},stop:function(N,X){ca("eventResizeStop",this,q,N,X);if(l)u(this,q,0,t("slotMinutes")*l,N,X);else{k.css("z-index",8);L(q,k)}}})}var o=this;o.renderEvents=a;o.compileDaySegs=e;o.clearEvents=b;o.slotSegHtml=n;o.bindDaySeg=s;Pb.call(o);var t=o.opt,ca=o.trigger,ha=o.isEventDraggable,ea=o.isEventResizable,na=o.eventEnd,qa=o.reportEvents,ia=o.reportEventClear,ja=o.eventElementHandlers,oa=o.setHeight,ua=o.getDaySegmentContainer,ra=o.getSlotSegmentContainer,
S=o.getHoverListener,ba=o.getMaxMinute,la=o.getMinMinute,pa=o.timePosition,F=o.colContentLeft,r=o.colContentRight,J=o.renderDaySegs,c=o.resizableDayEvent,B=o.getColCnt,G=o.getColWidth,Q=o.getSlotHeight,ta=o.getBodyContent,za=o.reportEventElement,L=o.showEvents,j=o.hideEvents,I=o.eventDrop,u=o.eventResize,P=o.renderDayOverlay,C=o.clearOverlays,U=o.calendar,W=U.formatDate,V=U.formatDates}function wc(a){var b,e,d,f,g,n;for(b=a.length-1;b>0;b--){f=a[b];for(e=0;e<f.length;e++){g=f[e];for(d=0;d<a[b-1].length;d++){n=
a[b-1][d];if(Bb(g,n))n.forward=Math.max(n.forward||0,(g.forward||0)+1)}}}}function Jb(a,b,e){function d(F,r){F=pa[F];if(typeof F=="object")return jb(F,r||e);return F}function f(F,r){return b.trigger.apply(b,[F,r||ja].concat(Array.prototype.slice.call(arguments,2),[ja]))}function g(F){return s(F)&&!d("disableDragging")}function n(F){return s(F)&&!d("disableResizing")}function s(F){return Ta(F.editable,(F.source||{}).editable,d("editable"))}function w(F){S={};var r,J=F.length,c;for(r=0;r<J;r++){c=F[r];
if(S[c._id])S[c._id].push(c);else S[c._id]=[c]}}function v(F){return F.end?K(F.end):oa(F)}function R(F,r){ba.push(r);if(la[F._id])la[F._id].push(r);else la[F._id]=[r]}function E(){ba=[];la={}}function o(F,r){r.click(function(J){if(!r.hasClass("ui-draggable-dragging")&&!r.hasClass("ui-resizable-resizing"))return f("eventClick",this,F,J)}).hover(function(J){f("eventMouseover",this,F,J)},function(J){f("eventMouseout",this,F,J)})}function t(F,r){ha(F,r,"show")}function ca(F,r){ha(F,r,"hide")}function ha(F,
r,J){F=la[F._id];var c,B=F.length;for(c=0;c<B;c++)if(!r||F[c][0]!=r[0])F[c][J]()}function ea(F,r,J,c,B,G,Q){var ta=r.allDay,za=r._id;qa(S[za],J,c,B);f("eventDrop",F,r,J,c,B,function(){qa(S[za],-J,-c,ta);ra(za)},G,Q);ra(za)}function na(F,r,J,c,B,G){var Q=r._id;ia(S[Q],J,c);f("eventResize",F,r,J,c,function(){ia(S[Q],-J,-c);ra(Q)},B,G);ra(Q)}function qa(F,r,J,c){J=J||0;for(var B,G=F.length,Q=0;Q<G;Q++){B=F[Q];if(c!==ma)B.allDay=c;ya($(B.start,r,true),J);if(B.end)B.end=ya($(B.end,r,true),J);ua(B,pa)}}
function ia(F,r,J){J=J||0;for(var c,B=F.length,G=0;G<B;G++){c=F[G];c.end=ya($(v(c),r,true),J);ua(c,pa)}}var ja=this;ja.element=a;ja.calendar=b;ja.name=e;ja.opt=d;ja.trigger=f;ja.isEventDraggable=g;ja.isEventResizable=n;ja.reportEvents=w;ja.eventEnd=v;ja.reportEventElement=R;ja.reportEventClear=E;ja.eventElementHandlers=o;ja.showEvents=t;ja.hideEvents=ca;ja.eventDrop=ea;ja.eventResize=na;var oa=ja.defaultEventEnd,ua=b.normalizeEvent,ra=b.reportEventChange,S={},ba=[],la={},pa=b.options}function Pb(){function a(j,
I){var u=B(),P=ra(),C=S(),U=0,W,V,q=j.length,k,y;u[0].innerHTML=e(j);d(j,u.children());f(j);g(j,u,I);n(j);s(j);w(j);I=v();for(u=0;u<P;u++){W=[];for(V=0;V<C;V++)W[V]=0;for(;U<q&&(k=j[U]).row==u;){V=Gb(W.slice(k.startCol,k.endCol));k.top=V;V+=k.outerHeight;for(y=k.startCol;y<k.endCol;y++)W[y]=V;U++}I[u].height(Gb(W))}E(j,R(I))}function b(j,I,u){var P=m("<div/>"),C=B(),U=j.length,W;P[0].innerHTML=e(j);P=P.children();C.append(P);d(j,P);n(j);s(j);w(j);E(j,R(v()));P=[];for(C=0;C<U;C++)if(W=j[C].element){j[C].row===
I&&W.css("top",u);P.push(W[0])}return m(P)}function e(j){var I=ca("isRTL"),u,P=j.length,C,U,W,V;u=la();var q=u.left,k=u.right,y,l,z,H,N,X="";for(u=0;u<P;u++){C=j[u];U=C.event;V=["fc-event","fc-event-skin","fc-event-hori"];ea(U)&&V.push("fc-event-draggable");if(I){C.isStart&&V.push("fc-corner-right");C.isEnd&&V.push("fc-corner-left");y=r(C.end.getDay()-1);l=r(C.start.getDay());z=C.isEnd?pa(y):q;H=C.isStart?F(l):k}else{C.isStart&&V.push("fc-corner-left");C.isEnd&&V.push("fc-corner-right");y=r(C.start.getDay());
l=r(C.end.getDay()-1);z=C.isStart?pa(y):q;H=C.isEnd?F(l):k}V=V.concat(U.className);if(U.source)V=V.concat(U.source.className||[]);W=U.url;N=Ib(U,ca);X+=W?"<a href='"+Qa(W)+"'":"<div";X+=" class='"+V.join(" ")+"' style='position:absolute;z-index:8;left:"+z+"px;"+N+"'><div class='fc-event-inner fc-event-skin'"+(N?" style='"+N+"'":"")+">";if(!U.allDay&&C.isStart)X+="<span class='fc-event-time'>"+Qa(Q(U.start,U.end,ca("timeFormat")))+"</span>";X+="<span class='fc-event-title'>"+Qa(U.title)+"</span></div>";
if(C.isEnd&&na(U))X+="<div class='ui-resizable-handle ui-resizable-"+(I?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";X+="</"+(W?"a":"div")+">";C.left=z;C.outerWidth=H-z;C.startCol=y;C.endCol=l+1}return X}function d(j,I){var u,P=j.length,C,U,W;for(u=0;u<P;u++){C=j[u];U=C.event;W=m(I[u]);U=ha("eventRender",U,U,W);if(U===false)W.remove();else{if(U&&U!==true){U=m(U).css({position:"absolute",left:C.left});W.replaceWith(U);W=U}C.element=W}}}function f(j){var I,u=j.length,P,C;for(I=0;I<u;I++){P=j[I];(C=P.element)&&
ia(P.event,C)}}function g(j,I,u){var P,C=j.length,U,W,V;for(P=0;P<C;P++){U=j[P];if(W=U.element){V=U.event;if(V._id===u)G(V,W,U);else W[0]._fci=P}}Cb(I,j,G)}function n(j){var I,u=j.length,P,C,U,W,V={};for(I=0;I<u;I++){P=j[I];if(C=P.element){U=P.key=Hb(C[0]);W=V[U];if(W===ma)W=V[U]=ob(C,true);P.hsides=W}}}function s(j){var I,u=j.length,P,C;for(I=0;I<u;I++){P=j[I];if(C=P.element)C[0].style.width=Math.max(0,P.outerWidth-P.hsides)+"px"}}function w(j){var I,u=j.length,P,C,U,W,V={};for(I=0;I<u;I++){P=j[I];
if(C=P.element){U=P.key;W=V[U];if(W===ma)W=V[U]=Eb(C);P.outerHeight=C[0].offsetHeight+W}}}function v(){var j,I=ra(),u=[];for(j=0;j<I;j++)u[j]=ba(j).find("td:first div.fc-day-content > div");return u}function R(j){var I,u=j.length,P=[];for(I=0;I<u;I++)P[I]=j[I][0].offsetTop;return P}function E(j,I){var u,P=j.length,C,U;for(u=0;u<P;u++){C=j[u];if(U=C.element){U[0].style.top=I[C.row]+(C.top||0)+"px";C=C.event;ha("eventAfterRender",C,C,U)}}}function o(j,I,u){var P=ca("isRTL"),C=P?"w":"e",U=I.find("div.ui-resizable-"+
C),W=false;pb(I);I.mousedown(function(V){V.preventDefault()}).click(function(V){if(W){V.preventDefault();V.stopImmediatePropagation()}});U.mousedown(function(V){function q(ka){ha("eventResizeStop",this,j,ka);m("body").css("cursor","");k.stop();za();X&&ua(this,j,X,0,ka);setTimeout(function(){W=false},0)}if(V.which==1){W=true;var k=t.getHoverListener(),y=ra(),l=S(),z=P?-1:1,H=P?l-1:0,N=I.css("top"),X,aa,da=m.extend({},j),Y=J(j.start);L();m("body").css("cursor",C+"-resize").one("mouseup",q);ha("eventResizeStart",
this,j,V);k.start(function(ka,ga){if(ka){var p=Math.max(Y.row,ka.row);ka=ka.col;if(y==1)p=0;if(p==Y.row)ka=P?Math.min(Y.col,ka):Math.max(Y.col,ka);X=p*7+ka*z+H-(ga.row*7+ga.col*z+H);ga=$(qa(j),X,true);if(X){da.end=ga;p=aa;aa=b(c([da]),u.row,N);aa.find("*").css("cursor",C+"-resize");p&&p.remove();oa(j)}else if(aa){ja(j);aa.remove();aa=null}za();ta(j.start,$(K(ga),1))}},V)}})}var t=this;t.renderDaySegs=a;t.resizableDayEvent=o;var ca=t.opt,ha=t.trigger,ea=t.isEventDraggable,na=t.isEventResizable,qa=
t.eventEnd,ia=t.reportEventElement,ja=t.showEvents,oa=t.hideEvents,ua=t.eventResize,ra=t.getRowCnt,S=t.getColCnt,ba=t.allDayRow,la=t.allDayBounds,pa=t.colContentLeft,F=t.colContentRight,r=t.dayOfWeekCol,J=t.dateCell,c=t.compileDaySegs,B=t.getDaySegmentContainer,G=t.bindDaySeg,Q=t.calendar.formatDates,ta=t.renderDayOverlay,za=t.clearOverlays,L=t.clearSelection}function Lb(){function a(E,o,t){b();o||(o=s(E,t));w(E,o,t);e(E,o,t)}function b(E){if(R){R=false;v();n("unselect",null,E)}}function e(E,o,t,
ca){R=true;n("select",null,E,o,t,ca)}function d(E){var o=f.cellDate,t=f.cellIsAllDay,ca=f.getHoverListener(),ha=f.reportDayClick;if(E.which==1&&g("selectable")){b(E);var ea;ca.start(function(na,qa){v();if(na&&t(na)){ea=[o(qa),o(na)].sort(Fb);w(ea[0],ea[1],true)}else ea=null},E);m(document).one("mouseup",function(na){ca.stop();if(ea){+ea[0]==+ea[1]&&ha(ea[0],true,na);e(ea[0],ea[1],true,na)}})}}var f=this;f.select=a;f.unselect=b;f.reportSelection=e;f.daySelectionMousedown=d;var g=f.opt,n=f.trigger,
s=f.defaultSelectionEnd,w=f.renderSelection,v=f.clearSelection,R=false;g("selectable")&&g("unselectAuto")&&m(document).mousedown(function(E){var o=g("unselectCancel");if(o)if(m(E.target).parents(o).length)return;b(E)})}function Kb(){function a(g,n){var s=f.shift();s||(s=m("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));s[0].parentNode!=n[0]&&s.appendTo(n);d.push(s.css(g).show());return s}function b(){for(var g;g=d.shift();)f.push(g.hide().unbind())}var e=this;e.renderOverlay=
a;e.clearOverlays=b;var d=[],f=[]}function Mb(a){var b=this,e,d;b.build=function(){e=[];d=[];a(e,d)};b.cell=function(f,g){var n=e.length,s=d.length,w,v=-1,R=-1;for(w=0;w<n;w++)if(g>=e[w][0]&&g<e[w][1]){v=w;break}for(w=0;w<s;w++)if(f>=d[w][0]&&f<d[w][1]){R=w;break}return v>=0&&R>=0?{row:v,col:R}:null};b.rect=function(f,g,n,s,w){w=w.offset();return{top:e[f][0]-w.top,left:d[g][0]-w.left,width:d[s][1]-d[g][0],height:e[n][1]-e[f][0]}}}function Nb(a){function b(s){yc(s);s=a.cell(s.pageX,s.pageY);if(!s!=
!n||s&&(s.row!=n.row||s.col!=n.col)){if(s){g||(g=s);f(s,g,s.row-g.row,s.col-g.col)}else f(s,g);n=s}}var e=this,d,f,g,n;e.start=function(s,w,v){f=s;g=n=null;a.build();b(w);d=v||"mousemove";m(document).bind(d,b)};e.stop=function(){m(document).unbind(d,b);return n}}function yc(a){if(a.pageX===ma){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Ob(a){function b(n){return d[n]=d[n]||a(n)}var e=this,d={},f={},g={};e.left=function(n){return f[n]=f[n]===ma?b(n).position().left:f[n]};
e.right=function(n){return g[n]=g[n]===ma?e.left(n)+b(n).width():g[n]};e.clear=function(){d={};f={};g={}}}var Ya={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:false,
firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",
month:"month",week:"week",day:"day"},theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},zc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Ba=m.fullCalendar={version:"1.5.4"},Ja=Ba.views={};m.fn.fullCalendar=function(a){if(typeof a=="string"){var b=
Array.prototype.slice.call(arguments,1),e;this.each(function(){var f=m.data(this,"fullCalendar");if(f&&m.isFunction(f[a])){f=f[a].apply(f,b);if(e===ma)e=f;a=="destroy"&&m.removeData(this,"fullCalendar")}});if(e!==ma)return e;return this}var d=a.eventSources||[];delete a.eventSources;if(a.events){d.push(a.events);delete a.events}a=m.extend(true,{},Ya,a.isRTL||a.isRTL===ma&&Ya.isRTL?zc:{},a);this.each(function(f,g){f=m(g);g=new Xb(f,a,d);f.data("fullCalendar",g);g.render()});return this};Ba.sourceNormalizers=
[];Ba.sourceFetchers=[];var ac={dataType:"json",cache:false},bc=1;Ba.addDays=$;Ba.cloneDate=K;Ba.parseDate=ab;Ba.parseISO8601=Ab;Ba.parseTime=lb;Ba.formatDate=Ka;Ba.formatDates=ib;var mc=["sun","mon","tue","wed","thu","fri","sat"],zb=864E5,cc=36E5,xc=6E4,ec={s:function(a){return a.getSeconds()},ss:function(a){return Pa(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return Pa(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Pa(a.getHours()%12||
12)},H:function(a){return a.getHours()},HH:function(a){return Pa(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Pa(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Pa(a.getMonth()+1)},MMM:function(a,b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},
yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Ka(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st","nd","rd"][a%10-1]||"th"}};Ba.applyAll=$a;Ja.month=nc;Ja.basicWeek=oc;Ja.basicDay=pc;wb({weekMode:"fixed"});Ja.agendaWeek=rc;Ja.agendaDay=sc;wb({allDaySlot:true,
allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24})})(jQuery);
